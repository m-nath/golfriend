/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
function _(e){return e in window.LOCALE?window.LOCALE[e]:e}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(t,n){function i(e){var t="length"in e&&e.length,n=ee.type(e);return"function"!==n&&!ee.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function o(e,t,n){if(ee.isFunction(t))return ee.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ee.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(le.test(t))return ee.filter(t,e,n);t=ee.filter(t,e)}return ee.grep(e,function(e){return z.call(t,e)>=0!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t=me[e]={};return ee.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function a(){G.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),ee.ready()}function l(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=ee.expando+l.uid++}function d(t,n,i){var o;if(i===undefined&&1===t.nodeType)if(o="data-"+n.replace(we,"-$1").toLowerCase(),"string"==typeof(i=t.getAttribute(o))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:be.test(i)?ee.parseJSON(i):i)}catch(e){}ve.set(t,n,i)}else i=undefined;return i}function c(){return!0}function h(){return!1}function u(){try{return G.activeElement}catch(e){}}function p(e,t){return ee.nodeName(e,"table")&&ee.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function m(e){var t=_e.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function y(e,t){for(var n=0,i=e.length;n<i;n++)ge.set(e[n],"globalEval",!t||ge.get(t[n],"globalEval"))}function g(e,t){var n,i,o,r,s,a,l,d;if(1===t.nodeType){if(ge.hasData(e)&&(r=ge.access(e),s=ge.set(t,r),d=r.events))for(o in delete s.handle,s.events={},d)for(n=0,i=d[o].length;n<i;n++)ee.event.add(t,o,d[o][n]);ve.hasData(e)&&(a=ve.access(e),l=ee.extend({},a),ve.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&ee.nodeName(e,t)?ee.merge([e],n):n}function b(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ee.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function w(e,n){var i,o=ee(n.createElement(e)).appendTo(n.body),r=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(o[0]))?i.display:ee.css(o[0],"display");return o.detach(),r}function x(e){var t=G,n=Pe[e];return n||("none"!==(n=w(e,t))&&n||((t=(He=(He||ee("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=w(e,t),He.detach()),Pe[e]=n),n}function O(e,t,n){var i,o,r,s,a=e.style;return(n=n||Xe(e))&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||ee.contains(e.ownerDocument,e)||(s=ee.style(e,t)),Be.test(s)&&$e.test(t)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r)),s!==undefined?s+"":s}function S(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function T(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,o=Ye.length;o--;)if((t=Ye[o]+n)in e)return t;return i}function L(e,t,n){var i=ze.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function E(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,s=0;r<4;r+=2)"margin"===n&&(s+=ee.css(e,n+Te[r],!0,o)),i?("content"===n&&(s-=ee.css(e,"padding"+Te[r],!0,o)),"margin"!==n&&(s-=ee.css(e,"border"+Te[r]+"Width",!0,o))):(s+=ee.css(e,"padding"+Te[r],!0,o),"padding"!==n&&(s+=ee.css(e,"border"+Te[r]+"Width",!0,o)));return s}function k(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=Xe(e),s="border-box"===ee.css(e,"boxSizing",!1,r);if(o<=0||null==o){if(((o=O(e,t,r))<0||null==o)&&(o=e.style[t]),Be.test(o))return o;i=s&&(Y.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+E(e,t,n||(s?"border":"content"),i,r)+"px"}function C(e,t){for(var n,i,o,r=[],s=0,a=e.length;s<a;s++)(i=e[s]).style&&(r[s]=ge.get(i,"olddisplay"),n=i.style.display,t?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Le(i)&&(r[s]=ge.access(i,"olddisplay",x(i.nodeName)))):(o=Le(i),"none"===n&&o||ge.set(i,"olddisplay",o?n:ee.css(i,"display"))));for(s=0;s<a;s++)(i=e[s]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[s]||"":"none"));return e}function D(e,t,n,i,o){return new D.prototype.init(e,t,n,i,o)}function M(){return setTimeout(function(){Ge=undefined}),Ge=ee.now()}function A(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=Te[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function N(e,t,n){for(var i,o=(ot[t]||[]).concat(ot["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,t,e))return i}function Q(e,t,n){var i,o,r,s,a,l,d,c=this,h={},u=e.style,p=e.nodeType&&Le(e),f=ge.get(e,"fxshow");for(i in n.queue||(null==(a=ee._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ee.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===("none"===(d=ee.css(e,"display"))?ge.get(e,"olddisplay")||x(e.nodeName):d)&&"none"===ee.css(e,"float")&&(u.display="inline-block")),n.overflow&&(u.overflow="hidden",c.always(function(){u.overflow=n.overflow[0],u.overflowX=n.overflow[1],u.overflowY=n.overflow[2]})),t)if(o=t[i],et.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!f||f[i]===undefined)continue;p=!0}h[i]=f&&f[i]||ee.style(e,i)}else d=undefined;if(ee.isEmptyObject(h))"inline"===("none"===d?x(e.nodeName):d)&&(u.display=d);else for(i in f?"hidden"in f&&(p=f.hidden):f=ge.access(e,"fxshow",{}),r&&(f.hidden=!p),p?ee(e).show():c.done(function(){ee(e).hide()}),c.done(function(){var t;for(t in ge.remove(e,"fxshow"),h)ee.style(e,t,h[t])}),h)s=N(p?f[i]:0,i,c),i in f||(f[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}function Z(e,t){var n,i,o,r,s;for(n in e)if(o=t[i=ee.camelCase(n)],r=e[n],ee.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(s=ee.cssHooks[i])&&"expand"in s)for(n in r=s.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}function R(e,t,n){var i,o,r=0,s=it.length,a=ee.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Ge||M(),n=Math.max(0,d.startTime+d.duration-t),i=1-(n/d.duration||0),r=0,s=d.tweens.length;r<s;r++)d.tweens[r].run(i);return a.notifyWith(e,[d,i,n]),i<1&&s?n:(a.resolveWith(e,[d]),!1)},d=a.promise({elem:e,props:ee.extend({},t),opts:ee.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ge||M(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ee.Tween(e,d.opts,t,n,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(i),i},stop:function(t){var n=0,i=t?d.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)d.tweens[n].run(1);return t?a.resolveWith(e,[d,t]):a.rejectWith(e,[d,t]),this}}),c=d.props;for(Z(c,d.opts.specialEasing);r<s;r++)if(i=it[r].call(d,e,c,d.opts))return i;return ee.map(c,N,d),ee.isFunction(d.opts.start)&&d.opts.start.call(e,d),ee.fx.timer(ee.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function j(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(fe)||[];if(ee.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function I(e,t,n,i){function o(a){var l;return r[a]=!0,ee.each(e[a]||[],function(e,a){var d=a(t,n,i);return"string"!=typeof d||s||r[d]?s?!(l=d):void 0:(t.dataTypes.unshift(d),o(d),!1)}),l}var r={},s=e===xt;return o(t.dataTypes[0])||!r["*"]&&o("*")}function _(e,t){var n,i,o=ee.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&ee.extend(!0,e,i),e}function q(e,t,n){for(var i,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),i===undefined&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),n[r]}function F(t,n,i,o){var r,s,a,l,d,c={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(s=h.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=n),!d&&o&&t.dataFilter&&(n=t.dataFilter(n,t.dataType)),d=s,s=h.shift())if("*"===s)s=d;else if("*"!==d&&d!==s){if(!(a=c[d+" "+s]||c["* "+s]))for(r in c)if((l=r.split(" "))[1]===s&&(a=c[d+" "+l[0]]||c["* "+l[0]])){!0===a?a=c[r]:!0!==c[r]&&(s=l[0],h.unshift(l[1]));break}if(!0!==a)if(a&&t.throws)n=a(n);else try{n=a(n)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+d+" to "+s}}}return{state:"success",data:n}}function H(e,t,n,i){var o;if(ee.isArray(t))ee.each(t,function(t,o){n||Et.test(e)?i(e,o):H(e+"["+("object"==typeof o?t:"")+"]",o,n,i)});else if(n||"object"!==ee.type(t))i(e,t);else for(o in t)H(e+"["+o+"]",t[o],n,i)}function P(e){return ee.isWindow(e)?e:9===e.nodeType&&e.defaultView}var $=[],B=$.slice,X=$.concat,W=$.push,z=$.indexOf,K={},V=K.toString,U=K.hasOwnProperty,Y={},G=t.document,J="2.1.4",ee=function(e,t){return new ee.fn.init(e,t)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ne=/^-ms-/,ie=/-([\da-z])/gi,oe=function(e,t){return t.toUpperCase()};ee.fn=ee.prototype={jquery:J,constructor:ee,selector:"",length:0,toArray:function(){return B.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:B.call(this)},pushStack:function(e){var t=ee.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ee.each(this,e,t)},map:function(e){return this.pushStack(ee.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(B.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:$.sort,splice:$.splice},ee.extend=ee.fn.extend=function(){var e,t,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[a]||{},a++),"object"==typeof s||ee.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(i=e[t])&&(d&&i&&(ee.isPlainObject(i)||(o=ee.isArray(i)))?(o?(o=!1,r=n&&ee.isArray(n)?n:[]):r=n&&ee.isPlainObject(n)?n:{},s[t]=ee.extend(d,r,i)):i!==undefined&&(s[t]=i));return s},ee.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ee.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!ee.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===ee.type(e)&&!e.nodeType&&!ee.isWindow(e)&&!(e.constructor&&!U.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?K[V.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=ee.trim(e))&&(1===e.indexOf("use strict")?((t=G.createElement("script")).text=e,G.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ne,"ms-").replace(ie,oe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var o=0,r=e.length,s=i(e);if(n){if(s)for(;o<r&&!1!==t.apply(e[o],n);o++);else for(o in e)if(!1===t.apply(e[o],n))break}else if(s)for(;o<r&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(te,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?ee.merge(n,"string"==typeof e?[e]:e):W.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,s=!n;o<r;o++)!t(e[o],o)!==s&&i.push(e[o]);return i},map:function(e,t,n){var o,r=0,s=e.length,a=[];if(i(e))for(;r<s;r++)null!=(o=t(e[r],r,n))&&a.push(o);else for(r in e)null!=(o=t(e[r],r,n))&&a.push(o);return X.apply([],a)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(n=e[t],t=e,e=n),ee.isFunction(e)?(i=B.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(B.call(arguments)))}).guid=e.guid=e.guid||ee.guid++,o):undefined},now:Date.now,support:Y}),ee.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()});var re=
/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function n(e,t,n,i){var o,r,s,a,l,d,c,u,f,m;if((t?t.ownerDocument||t:H)!==Q&&N(t),n=n||[],a=(t=t||Q).nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!i&&R){if(11!==a&&(o=be.exec(e)))if(s=o[1]){if(9===a){if(!(r=t.getElementById(s))||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(s))&&q(t,r)&&r.id===s)return n.push(r),n}else{if(o[2])return J.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&O.getElementsByClassName)return J.apply(n,t.getElementsByClassName(s)),n}if(O.qsa&&(!j||!j.test(e))){if(u=c=F,f=t,m=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(d=E(e),(c=t.getAttribute("id"))?u=c.replace(xe,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",l=d.length;l--;)d[l]=u+p(d[l]);f=we.test(e)&&h(t.parentNode)||t,m=d.join(",")}if(m)try{return J.apply(n,f.querySelectorAll(m)),n}catch(y){}finally{c||t.removeAttribute("id")}}}return C(e.replace(de,"$1"),t,n,i)}function i(){function e(n,i){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function o(e){return e[F]=!0,e}function r(t){var n=Q.createElement("div");try{return!!t(n)}catch(e){return!1}finally{n.parentNode&&n.parentNode.removeChild(n),n=null}}function s(e,t){for(var n=e.split("|"),i=e.length;i--;)S.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function d(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return o(function(t){return t=+t,o(function(n,i){for(var o,r=e([],n.length,t),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function h(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function u(){}function p(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,o=n&&"parentNode"===i,r=$++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,s){var a,l,d=[P,r];if(s){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||o){if((a=(l=t[F]||(t[F]={}))[i])&&a[0]===P&&a[1]===r)return d[2]=a[2];if(l[i]=d,d[2]=e(t,n,s))return!0}}}function m(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function y(e,t,i){for(var o=0,r=t.length;o<r;o++)n(e,t[o],i);return i}function g(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,d=null!=t;a<l;a++)(r=e[a])&&(n&&!n(r,i,o)||(s.push(r),d&&t.push(a)));return s}function v(e,t,n,i,r,s){return i&&!i[F]&&(i=v(i)),r&&!r[F]&&(r=v(r,s)),o(function(o,s,a,l){var d,c,h,u=[],p=[],f=s.length,m=o||y(t||"*",a.nodeType?[a]:a,[]),v=!e||!o&&t?m:g(m,u,e,a,l),b=n?r||(o?e:f||i)?[]:s:v;if(n&&n(v,b,a,l),i)for(d=g(b,p),i(d,[],a,l),c=d.length;c--;)(h=d[c])&&(b[p[c]]=!(v[p[c]]=h));if(o){if(r||e){if(r){for(d=[],c=b.length;c--;)(h=b[c])&&d.push(v[c]=h);r(null,b=[],d,l)}for(c=b.length;c--;)(h=b[c])&&(d=r?te(o,h):u[c])>-1&&(o[d]=!(s[d]=h))}}else b=g(b===s?b.splice(f,b.length):b),r?r(null,s,b,l):J.apply(s,b)})}function b(e){for(var t,n,i,o=e.length,r=S.relative[e[0].type],s=r||S.relative[" "],a=r?1:0,l=f(function(e){return e===t},s,!0),d=f(function(e){return te(t,e)>-1},s,!0),c=[function(e,n,i){var o=!r&&(i||n!==D)||((t=n).nodeType?l(e,n,i):d(e,n,i));return t=null,o}];a<o;a++)if(n=S.relative[e[a].type])c=[f(m(c),n)];else{if((n=S.filter[e[a].type].apply(null,e[a].matches))[F]){for(i=++a;i<o&&!S.relative[e[i].type];i++);return v(a>1&&m(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(de,"$1"),n,a<i&&b(e.slice(a,i)),i<o&&b(e=e.slice(i)),i<o&&p(e))}c.push(n)}return m(c)}function w(e,t){var i=t.length>0,r=e.length>0,s=function(o,s,a,l,d){var c,h,u,p=0,f="0",m=o&&[],y=[],v=D,b=o||r&&S.find.TAG("*",d),w=P+=null==v?1:Math.random()||.1,x=b.length;for(d&&(D=s!==Q&&s);f!==x&&null!=(c=b[f]);f++){if(r&&c){for(h=0;u=e[h++];)if(u(c,s,a)){l.push(c);break}d&&(P=w)}i&&((c=!u&&c)&&p--,o&&m.push(c))}if(p+=f,i&&f!==p){for(h=0;u=t[h++];)u(m,y,s,a);if(o){if(p>0)for(;f--;)m[f]||y[f]||(y[f]=Y.call(l));y=g(y)}J.apply(l,y),d&&!o&&y.length>0&&p+t.length>1&&n.uniqueSort(l)}return d&&(P=w,D=v),m};return i?o(s):s}var x,O,S,T,L,E,k,C,D,M,A,N,Q,Z,R,j,I,_,q,F="sizzle"+1*new Date,H=t.document,P=0,$=0,B=i(),X=i(),W=i(),z=function(e,t){return e===t&&(A=!0),0},K=1<<31,V={}.hasOwnProperty,U=[],Y=U.pop,G=U.push,J=U.push,ee=U.slice,te=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=oe.replace("w","w#"),se="\\["+ie+"*("+oe+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ie+"*\\]",ae=":("+oe+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",le=new RegExp(ie+"+","g"),de=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),ce=new RegExp("^"+ie+"*,"+ie+"*"),he=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ue=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),pe=new RegExp(ae),fe=new RegExp("^"+re+"$"),me={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},ye=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/[+~]/,xe=/'|\\/g,Oe=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),Se=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Te=function(){N()};try{J.apply(U=ee.call(H.childNodes),H.childNodes),U[H.childNodes.length].nodeType}catch(e){J={apply:U.length?function(e,t){G.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(x in O=n.support={},L=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},N=n.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:H;return i!==Q&&9===i.nodeType&&i.documentElement?(Q=i,Z=i.documentElement,(n=i.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Te,!1):n.attachEvent&&n.attachEvent("onunload",Te)),R=!L(i),O.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),O.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),O.getElementsByClassName=ve.test(i.getElementsByClassName),O.getById=r(function(e){return Z.appendChild(e).id=F,!i.getElementsByName||!i.getElementsByName(F).length}),O.getById?(S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&R){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(Oe,Se);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(Oe,Se);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=O.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):O.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},S.find.CLASS=O.getElementsByClassName&&function(e,t){if(R)return t.getElementsByClassName(e)},I=[],j=[],(O.qsa=ve.test(i.querySelectorAll))&&(r(function(e){Z.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||j.push("\\["+ie+"*(?:value|"+ne+")"),e.querySelectorAll("[id~="+F+"-]").length||j.push("~="),e.querySelectorAll(":checked").length||j.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||j.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&j.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(O.matchesSelector=ve.test(_=Z.matches||Z.webkitMatchesSelector||Z.mozMatchesSelector||Z.oMatchesSelector||Z.msMatchesSelector))&&r(function(e){O.disconnectedMatch=_.call(e,"div"),_.call(e,"[s!='']:x"),I.push("!=",ae)}),j=j.length&&new RegExp(j.join("|")),I=I.length&&new RegExp(I.join("|")),t=ve.test(Z.compareDocumentPosition),q=t||ve.test(Z.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!O.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===H&&q(H,e)?-1:t===i||t.ownerDocument===H&&q(H,t)?1:M?te(M,e)-te(M,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,o=0,r=e.parentNode,s=t.parentNode,l=[e],d=[t];if(!r||!s)return e===i?-1:t===i?1:r?-1:s?1:M?te(M,e)-te(M,t):0;if(r===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)d.unshift(n);for(;l[o]===d[o];)o++;return o?a(l[o],d[o]):l[o]===H?-1:d[o]===H?1:0},i):Q},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(t,i){if((t.ownerDocument||t)!==Q&&N(t),i=i.replace(ue,"='$1']"),O.matchesSelector&&R&&(!I||!I.test(i))&&(!j||!j.test(i)))try{var o=_.call(t,i);if(o||O.disconnectedMatch||t.document&&11!==t.document.nodeType)return o}catch(e){}return n(i,Q,null,[t]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==Q&&N(e),q(e,t)},n.attr=function(e,t){(e.ownerDocument||e)!==Q&&N(e);var n=S.attrHandle[t.toLowerCase()],i=n&&V.call(S.attrHandle,t.toLowerCase())?n(e,t,!R):undefined;return i!==undefined?i:O.attributes||!R?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],i=0,o=0;if(A=!O.detectDuplicates,M=!O.sortStable&&e.slice(0),e.sort(z),A){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return M=null,e},T=n.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=T(t);return n},(S=n.selectors={cacheLength:50,createPseudo:o,match:me,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Oe,Se),e[3]=(e[3]||e[4]||e[5]||"").replace(Oe,Se),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return me.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Oe,Se).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(o){var r=n.attr(o,e);return null==r?"!="===t:!t||(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r.replace(le," ")+" ").indexOf(i)>-1:"|="===t&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var d,c,h,u,p,f,m=r!==s?"nextSibling":"previousSibling",y=t.parentNode,g=a&&t.nodeName.toLowerCase(),v=!l&&!a;if(y){if(r){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===g:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?y.firstChild:y.lastChild],s&&v){for(p=(d=(c=y[F]||(y[F]={}))[e]||[])[0]===P&&d[1],u=d[0]===P&&d[2],h=p&&y.childNodes[p];h=++p&&h&&h[m]||(u=p=0)||f.pop();)if(1===h.nodeType&&++u&&h===t){c[e]=[P,p,u];break}}else if(v&&(d=(t[F]||(t[F]={}))[e])&&d[0]===P)u=d[1];else for(;(h=++p&&h&&h[m]||(u=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==g:1!==h.nodeType)||!++u||(v&&((h[F]||(h[F]={}))[e]=[P,u]),h!==t)););return(u-=o)===i||u%i==0&&u/i>=0}}},PSEUDO:function(e,t){var i,r=S.pseudos[e]||S.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[F]?r(t):r.length>1?(i=[e,e,"",t],S.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)e[i=te(e,o[s])]=!(n[i]=o[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:o(function(e){var t=[],n=[],i=k(e.replace(de,"$1"));return i[F]?o(function(e,t,n,o){for(var r,s=i(e,null,o,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,o,r){return t[0]=e,i(t,null,r,n),t[0]=null,!n.pop()}}),has:o(function(e){return function(t){return n(e,t).length>0}}),contains:o(function(e){return e=e.replace(Oe,Se),function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:o(function(e){return fe.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Oe,Se).toLowerCase(),function(t){var n;do{if(n=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===Z},focus:function(e){return e===Q.activeElement&&(!Q.hasFocus||Q.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return ye.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=S.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})S.pseudos[x]=d(x);return u.prototype=S.filters=S.pseudos,S.setFilters=new u,E=n.tokenize=function(e,t){var i,o,r,s,a,l,d,c=X[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],d=S.preFilter;a;){for(s in i&&!(o=ce.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=he.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(de," ")}),a=a.slice(i.length)),S.filter)!(o=me[s].exec(a))||d[s]&&!(o=d[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return t?a.length:a?n.error(e):X(e,l).slice(0)},k=n.compile=function(e,t){var n,i=[],o=[],r=W[e+" "];if(!r){for(t||(t=E(e)),n=t.length;n--;)(r=b(t[n]))[F]?i.push(r):o.push(r);(r=W(e,w(o,i))).selector=e}return r},C=n.select=function(e,t,n,i){var o,r,s,a,l,d="function"==typeof e&&e,c=!i&&E(e=d.selector||e);if(n=n||[],1===c.length){if((r=c[0]=c[0].slice(0)).length>2&&"ID"===(s=r[0]).type&&O.getById&&9===t.nodeType&&R&&S.relative[r[1].type]){if(!(t=(S.find.ID(s.matches[0].replace(Oe,Se),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=me.needsContext.test(e)?0:r.length;o--&&(s=r[o],!S.relative[a=s.type]);)if((l=S.find[a])&&(i=l(s.matches[0].replace(Oe,Se),we.test(r[0].type)&&h(t.parentNode)||t))){if(r.splice(o,1),!(e=i.length&&p(r)))return J.apply(n,i),n;break}}return(d||k(e,c))(i,t,!R,n,we.test(e)&&h(t.parentNode)||t),n},O.sortStable=F.split("").sort(z).join("")===F,O.detectDuplicates=!!A,N(),O.sortDetached=r(function(e){return 1&e.compareDocumentPosition(Q.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),O.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(ne,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),n}(t);ee.find=re,ee.expr=re.selectors,ee.expr[":"]=ee.expr.pseudos,ee.unique=re.uniqueSort,ee.text=re.getText,ee.isXMLDoc=re.isXML,ee.contains=re.contains;var se=ee.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,le=/^.[^:#\[\.,]*$/;ee.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ee.find.matchesSelector(i,e)?[i]:[]:ee.find.matches(e,ee.grep(t,function(e){return 1===e.nodeType}))},ee.fn.extend({find:function(e){var t,n=this.length,i=[],o=this;if("string"!=typeof e)return this.pushStack(ee(e).filter(function(){for(t=0;t<n;t++)if(ee.contains(o[t],this))return!0}));for(t=0;t<n;t++)ee.find(e,o[t],i);return(i=this.pushStack(n>1?ee.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(o(this,e||[],!1))},not:function(e){return this.pushStack(o(this,e||[],!0))},is:function(e){return!!o(this,"string"==typeof e&&se.test(e)?ee(e):e||[],!1).length}});var de,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ee.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ce.exec(e))||!n[1]&&t)return!t||t.jquery?(t||de).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ee?t[0]:t,ee.merge(this,ee.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:G,!0)),ae.test(n[1])&&ee.isPlainObject(t))for(n in t)ee.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=G.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ee.isFunction(e)?"undefined"!=typeof de.ready?de.ready(e):e(ee):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),ee.makeArray(e,this))}).prototype=ee.fn,de=ee(G);var he=/^(?:parents|prev(?:Until|All))/,ue={children:!0,contents:!0,next:!0,prev:!0};ee.extend({dir:function(e,t,n){for(var i=[],o=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ee(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ee.fn.extend({has:function(e){var t=ee(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ee.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,r=[],s=se.test(e)||"string"!=typeof e?ee(e,t||this.context):0;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ee.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?ee.unique(r):r)},index:function(e){return e?"string"==typeof e?z.call(ee(e),this[0]):z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ee.unique(ee.merge(this.get(),ee(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ee.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ee.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ee.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return ee.dir(e,"nextSibling")},prevAll:function(e){return ee.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ee.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ee.dir(e,"previousSibling",n)},siblings:function(e){return ee.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ee.sibling(e.firstChild)},contents:function(e){return e.contentDocument||ee.merge([],e.childNodes)}},function(e,t){ee.fn[e]=function(n,i){var o=ee.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ee.filter(i,o)),this.length>1&&(ue[e]||ee.unique(o),he.test(e)&&o.reverse()),this.pushStack(o)}});var pe,fe=/\S+/g,me={};ee.Callbacks=function(e){e="string"==typeof e?me[e]||s(e):ee.extend({},e);var t,n,i,o,r,a,l=[],d=!e.once&&[],c=function(s){for(t=e.memory&&s,n=!0,a=o||0,o=0,r=l.length,i=!0;l&&a<r;a++)if(!1===l[a].apply(s[0],s[1])&&e.stopOnFalse){t=!1;break}i=!1,l&&(d?d.length&&c(d.shift()):t?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function s(t){ee.each(t,function(t,n){var i=ee.type(n);"function"===i?e.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),i?r=l.length:t&&(o=n,c(t))}return this},remove:function(){return l&&ee.each(arguments,function(e,t){for(var n;(n=ee.inArray(t,l,n))>-1;)l.splice(n,1),i&&(n<=r&&r--,n<=a&&a--)}),this},has:function(e){return e?ee.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=d=t=undefined,this},disabled:function(){return!l},lock:function(){return d=undefined,t||h.disable(),this},locked:function(){return!d},fireWith:function(e,t){return!l||n&&!d||(t=[e,(t=t||[]).slice?t.slice():t],i?d.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},ee.extend({Deferred:function(e){var t=[["resolve","done",ee.Callbacks("once memory"),"resolved"],["reject","fail",ee.Callbacks("once memory"),"rejected"],["notify","progress",ee.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ee.Deferred(function(n){ee.each(t,function(t,r){var s=ee.isFunction(e[t])&&e[t];o[r[1]](function(){var e=s&&s.apply(this,arguments);e&&ee.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ee.extend(e,i):i}},o={};return i.pipe=i.then,ee.each(t,function(e,r){var s=r[2],a=r[3];i[r[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,r=B.call(arguments),s=r.length,a=1!==s||e&&ee.isFunction(e.promise)?s:0,l=1===a?e:ee.Deferred(),d=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?B.call(arguments):o,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);o<s;o++)r[o]&&ee.isFunction(r[o].promise)?r[o].promise().done(d(o,i,r)).fail(l.reject).progress(d(o,n,t)):--a;return a||l.resolveWith(i,r),l.promise()}}),ee.fn.ready=function(e){return ee.ready.promise().done(e),this},ee.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ee.readyWait++:ee.ready(!0)},ready:function(e){(!0===e?--ee.readyWait:ee.isReady)||(ee.isReady=!0,!0!==e&&--ee.readyWait>0||(pe.resolveWith(G,[ee]),ee.fn.triggerHandler&&(ee(G).triggerHandler("ready"),ee(G).off("ready"))))}}),ee.ready.promise=function(e){return pe||(pe=ee.Deferred(),"complete"===G.readyState?setTimeout(ee.ready):(G.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),pe.promise(e)},ee.ready.promise();var ye=ee.access=function(e,t,n,i,o,r,s){var a=0,l=e.length,d=null==n;if("object"===ee.type(n))for(a in o=!0,n)ee.access(e,t,a,n[a],!0,r,s);else if(i!==undefined&&(o=!0,ee.isFunction(i)||(s=!0),d&&(s?(t.call(e,i),t=null):(d=t,t=function(e,t,n){return d.call(ee(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return o?e:d?t.call(e):l?t(e[0],n):r};ee.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},l.uid=1,l.accepts=ee.acceptData,l.prototype={key:function(t){if(!l.accepts(t))return 0;var n={},i=t[this.expando];if(!i){i=l.uid++;try{n[this.expando]={value:i},Object.defineProperties(t,n)}catch(e){n[this.expando]=i,ee.extend(t,n)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,n){var i,o=this.key(e),r=this.cache[o];if("string"==typeof t)r[t]=n;else if(ee.isEmptyObject(r))ee.extend(this.cache[o],t);else for(i in t)r[i]=t[i];return r},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var i;return t===undefined||t&&"string"==typeof t&&n===undefined?(i=this.get(e,t))!==undefined?i:this.get(e,ee.camelCase(t)):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,i,o,r=this.key(e),s=this.cache[r];if(t===undefined)this.cache[r]={};else{ee.isArray(t)?i=t.concat(t.map(ee.camelCase)):(o=ee.camelCase(t),i=t in s?[t,o]:(i=o)in s?[i]:i.match(fe)||[]),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(e){return!ee.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ge=new l,ve=new l,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;ee.extend({hasData:function(e){return ve.hasData(e)||ge.hasData(e)},data:function(e,t,n){return ve.access(e,t,n)},removeData:function(e,t){ve.remove(e,t)},_data:function(e,t,n){return ge.access(e,t,n)},_removeData:function(e,t){ge.remove(e,t)}}),ee.fn.extend({data:function(e,t){var n,i,o,r=this[0],s=r&&r.attributes;if(e===undefined){if(this.length&&(o=ve.get(r),1===r.nodeType&&!ge.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=ee.camelCase(i.slice(5)),d(r,i,o[i]));ge.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ve.set(this,e)}):ye(this,function(t){var n,i=ee.camelCase(e);if(r&&t===undefined)return(n=ve.get(r,e))!==undefined?n:(n=ve.get(r,i))!==undefined?n:(n=d(r,i,undefined))!==undefined?n:void 0;this.each(function(){var n=ve.get(this,i);ve.set(this,i,t),-1!==e.indexOf("-")&&n!==undefined&&ve.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ve.remove(this,e)})}}),ee.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=ge.get(e,t),n&&(!i||ee.isArray(n)?i=ge.access(e,t,ee.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=ee.queue(e,t),i=n.length,o=n.shift(),r=ee._queueHooks(e,t),s=function(){ee.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ge.get(e,n)||ge.access(e,n,{empty:ee.Callbacks("once memory").add(function(){ge.remove(e,[t+"queue",n])})})}}),ee.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ee.queue(this[0],e):t===undefined?this:this.each(function(){var n=ee.queue(this,e,t);ee._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ee.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ee.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=ee.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";s--;)(n=ge.get(r[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(t)}});var xe,Oe,Se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=["Top","Right","Bottom","Left"],Le=function(e,t){return e=t||e,"none"===ee.css(e,"display")||!ee.contains(e.ownerDocument,e)},Ee=/^(?:checkbox|radio)$/i;xe=G.createDocumentFragment().appendChild(G.createElement("div")),(Oe=G.createElement("input")).setAttribute("type","radio"),Oe.setAttribute("checked","checked"),Oe.setAttribute("name","t"),xe.appendChild(Oe),Y.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue;var ke=typeof undefined;Y.focusinBubbles="onfocusin"in t;var Ce=/^key/,De=/^(?:mouse|pointer|contextmenu)|click/,Me=/^(?:focusinfocus|focusoutblur)$/,Ae=/^([^.]*)(?:\.(.+)|)$/;ee.event={global:{},add:function(e,t,n,i,o){var r,s,a,l,d,c,h,u,p,f,m,y=ge.get(e);if(y)for(n.handler&&(n=(r=n).handler,o=r.selector),n.guid||(n.guid=ee.guid++),(l=y.events)||(l=y.events={}),(s=y.handle)||(s=y.handle=function(t){return typeof ee!==ke&&ee.event.triggered!==t.type?ee.event.dispatch.apply(e,arguments):undefined}),d=(t=(t||"").match(fe)||[""]).length;d--;)p=m=(a=Ae.exec(t[d])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=ee.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=ee.event.special[p]||{},c=ee.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ee.expr.match.needsContext.test(o),namespace:f.join(".")},r),(u=l[p])||((u=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,f,s)||e.addEventListener&&e.addEventListener(p,s,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?u.splice(u.delegateCount++,0,c):u.push(c),ee.event.global[p]=!0)},remove:function(e,t,n,i,o){var r,s,a,l,d,c,h,u,p,f,m,y=ge.hasData(e)&&ge.get(e);if(y&&(l=y.events)){for(d=(t=(t||"").match(fe)||[""]).length;d--;)if(p=m=(a=Ae.exec(t[d])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=ee.event.special[p]||{},u=l[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=u.length;r--;)c=u[r],!o&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(u.splice(r,1),c.selector&&u.delegateCount--,h.remove&&h.remove.call(e,c));s&&!u.length&&(h.teardown&&!1!==h.teardown.call(e,f,y.handle)||ee.removeEvent(e,p,y.handle),delete l[p])}else for(p in l)ee.event.remove(e,p+t[d],n,i,!0);ee.isEmptyObject(l)&&(delete y.handle,ge.remove(e,"events"))}},trigger:function(e,n,i,o){var r,s,a,l,d,c,h,u=[i||G],p=U.call(e,"type")?e.type:e,f=U.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||G,3!==i.nodeType&&8!==i.nodeType&&!Me.test(p+ee.event.triggered)&&(p.indexOf(".")>=0&&(p=(f=p.split(".")).shift(),f.sort()),d=p.indexOf(":")<0&&"on"+p,(e=e[ee.expando]?e:new ee.Event(p,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=i),n=null==n?[e]:ee.makeArray(n,[e]),h=ee.event.special[p]||{},o||!h.trigger||!1!==h.trigger.apply(i,n))){if(!o&&!h.noBubble&&!ee.isWindow(i)){for(l=h.delegateType||p,Me.test(l+p)||(s=s.parentNode);s;s=s.parentNode)u.push(s),a=s;a===(i.ownerDocument||G)&&u.push(a.defaultView||a.parentWindow||t)}for(r=0;(s=u[r++])&&!e.isPropagationStopped();)e.type=r>1?l:h.bindType||p,(c=(ge.get(s,"events")||{})[e.type]&&ge.get(s,"handle"))&&c.apply(s,n),(c=d&&s[d])&&c.apply&&ee.acceptData(s)&&(e.result=c.apply(s,n),!1===e.result&&e.preventDefault());return e.type=p,
o||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(u.pop(),n)||!ee.acceptData(i)||d&&ee.isFunction(i[p])&&!ee.isWindow(i)&&((a=i[d])&&(i[d]=null),ee.event.triggered=p,i[p](),ee.event.triggered=undefined,a&&(i[d]=a)),e.result}},dispatch:function(e){e=ee.event.fix(e);var t,n,i,o,r,s=[],a=B.call(arguments),l=(ge.get(this,"events")||{})[e.type]||[],d=ee.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,e)){for(s=ee.event.handlers.call(this,e,l),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,(i=((ee.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a))!==undefined&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,r,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(i=[],n=0;n<a;n++)i[o=(r=t[n]).selector+" "]===undefined&&(i[o]=r.needsContext?ee(o,this).index(l)>=0:ee.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&s.push({elem:l,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,r=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||G).documentElement,o=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),e.which||r===undefined||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[ee.expando])return e;var t,n,i,o=e.type,r=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=De.test(o)?this.mouseHooks:Ce.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new ee.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=G),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===u()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ee.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ee.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=ee.extend(new ee.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ee.event.trigger(o,null,t):ee.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},ee.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},ee.Event=function(e,t){if(!(this instanceof ee.Event))return new ee.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?c:h):this.type=e,t&&ee.extend(this,t),this.timeStamp=e&&e.timeStamp||ee.now(),this[ee.expando]=!0},ee.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ee.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ee.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===i||ee.contains(i,o))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),Y.focusinBubbles||ee.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ee.event.simulate(t,e.target,ee.event.fix(e),!0)};ee.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=ge.access(i,t);o||i.addEventListener(e,n,!0),ge.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=ge.access(i,t)-1;o?ge.access(i,t,o):(i.removeEventListener(e,n,!0),ge.remove(i,t))}}}),ee.fn.extend({on:function(e,t,n,i,o){var r,s;if("object"==typeof e){for(s in"string"!=typeof t&&(n=n||t,t=undefined),e)this.on(s,t,n,e[s],o);return this}if(null==n&&null==i?(i=t,n=t=undefined):null==i&&("string"==typeof t?(i=n,n=undefined):(i=n,n=t,t=undefined)),!1===i)i=h;else if(!i)return this;return 1===o&&(r=i,(i=function(e){return ee().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=ee.guid++)),this.each(function(){ee.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ee(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=h),this.each(function(){ee.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ee.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ee.event.trigger(e,t,n,!0)}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qe=/<([\w:]+)/,Ze=/<|&#?\w+;/,Re=/<(?:script|style|link)/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^$|\/(?:java|ecma)script/i,_e=/^true\/(.*)/,qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,ee.extend({clone:function(e,t,n){var i,o,r,s,a=e.cloneNode(!0),l=ee.contains(e.ownerDocument,e);if(!(Y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ee.isXMLDoc(e)))for(s=v(a),i=0,o=(r=v(e)).length;i<o;i++)b(r[i],s[i]);if(t)if(n)for(r=r||v(e),s=s||v(a),i=0,o=r.length;i<o;i++)g(r[i],s[i]);else g(e,a);return(s=v(a,"script")).length>0&&y(s,!l&&v(e,"script")),a},buildFragment:function(e,t,n,i){for(var o,r,s,a,l,d,c=t.createDocumentFragment(),h=[],u=0,p=e.length;u<p;u++)if((o=e[u])||0===o)if("object"===ee.type(o))ee.merge(h,o.nodeType?[o]:o);else if(Ze.test(o)){for(r=r||c.appendChild(t.createElement("div")),s=(Qe.exec(o)||["",""])[1].toLowerCase(),a=Fe[s]||Fe._default,r.innerHTML=a[1]+o.replace(Ne,"<$1></$2>")+a[2],d=a[0];d--;)r=r.lastChild;ee.merge(h,r.childNodes),(r=c.firstChild).textContent=""}else h.push(t.createTextNode(o));for(c.textContent="",u=0;o=h[u++];)if((!i||-1===ee.inArray(o,i))&&(l=ee.contains(o.ownerDocument,o),r=v(c.appendChild(o),"script"),l&&y(r),n))for(d=0;o=r[d++];)Ie.test(o.type||"")&&n.push(o);return c},cleanData:function(e){for(var t,n,i,o,r=ee.event.special,s=0;(n=e[s])!==undefined;s++){if(ee.acceptData(n)&&(o=n[ge.expando])&&(t=ge.cache[o])){if(t.events)for(i in t.events)r[i]?ee.event.remove(n,i):ee.removeEvent(n,i,t.handle);ge.cache[o]&&delete ge.cache[o]}delete ve.cache[n[ve.expando]]}}}),ee.fn.extend({text:function(e){return ye(this,function(e){return e===undefined?ee.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||p(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ee.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||ee.cleanData(v(n)),n.parentNode&&(t&&ee.contains(n.ownerDocument,n)&&y(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ee.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ee.clone(this,e,t)})},html:function(t){return ye(this,function(t){var n=this[0]||{},i=0,o=this.length;if(t===undefined&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!Re.test(t)&&!Fe[(Qe.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Ne,"<$1></$2>");try{for(;i<o;i++)1===(n=this[i]||{}).nodeType&&(ee.cleanData(v(n,!1)),n.innerHTML=t);n=0}catch(e){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ee.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=X.apply([],e);var n,i,o,r,s,a,l=0,d=this.length,c=this,h=d-1,u=e[0],p=ee.isFunction(u);if(p||d>1&&"string"==typeof u&&!Y.checkClone&&je.test(u))return this.each(function(n){var i=c.eq(n);p&&(e[0]=u.call(this,n,i.html())),i.domManip(e,t)});if(d&&(i=(n=ee.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=i),i)){for(r=(o=ee.map(v(n,"script"),f)).length;l<d;l++)s=n,l!==h&&(s=ee.clone(s,!0,!0),r&&ee.merge(o,v(s,"script"))),t.call(this[l],s,l);if(r)for(a=o[o.length-1].ownerDocument,ee.map(o,m),l=0;l<r;l++)s=o[l],Ie.test(s.type||"")&&!ge.access(s,"globalEval")&&ee.contains(a,s)&&(s.src?ee._evalUrl&&ee._evalUrl(s.src):ee.globalEval(s.textContent.replace(qe,"")))}return this}}),ee.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ee.fn[e]=function(e){for(var n,i=[],o=ee(e),r=o.length-1,s=0;s<=r;s++)n=s===r?this:this.clone(!0),ee(o[s])[t](n),W.apply(i,n.get());return this.pushStack(i)}});var He,Pe={},$e=/^margin/,Be=new RegExp("^("+Se+")(?!px)[a-z%]+$","i"),Xe=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",o.appendChild(r);var e=t.getComputedStyle(s,null);n="1%"!==e.top,i="4px"===e.width,o.removeChild(r)}var n,i,o=G.documentElement,r=G.createElement("div"),s=G.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===s.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(s),t.getComputedStyle&&ee.extend(Y,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},reliableMarginRight:function(){var e,n=s.appendChild(G.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",o.appendChild(r),e=!parseFloat(t.getComputedStyle(n,null).marginRight),o.removeChild(r),s.removeChild(n),e}}))}(),ee.swap=function(e,t,n,i){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];for(r in o=n.apply(e,i||[]),t)e.style[r]=s[r];return o};var We=/^(none|table(?!-c[ea]).+)/,ze=new RegExp("^("+Se+")(.*)$","i"),Ke=new RegExp("^([+-])=("+Se+")","i"),Ve={position:"absolute",visibility:"hidden",display:"block"},Ue={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","O","Moz","ms"];ee.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=O(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=ee.camelCase(t),l=e.style;if(t=ee.cssProps[a]||(ee.cssProps[a]=T(l,a)),s=ee.cssHooks[t]||ee.cssHooks[a],n===undefined)return s&&"get"in s&&(o=s.get(e,!1,i))!==undefined?o:l[t];"string"===(r=typeof n)&&(o=Ke.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(ee.css(e,t)),r="number"),null!=n&&n==n&&("number"!==r||ee.cssNumber[a]||(n+="px"),Y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&(n=s.set(e,n,i))===undefined||(l[t]=n))}},css:function(e,t,n,i){var o,r,s,a=ee.camelCase(t);return t=ee.cssProps[a]||(ee.cssProps[a]=T(e.style,a)),(s=ee.cssHooks[t]||ee.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,n)),o===undefined&&(o=O(e,t,i)),"normal"===o&&t in Ue&&(o=Ue[t]),""===n||n?(r=parseFloat(o),!0===n||ee.isNumeric(r)?r||0:o):o}}),ee.each(["height","width"],function(e,t){ee.cssHooks[t]={get:function(e,n,i){if(n)return We.test(ee.css(e,"display"))&&0===e.offsetWidth?ee.swap(e,Ve,function(){return k(e,t,i)}):k(e,t,i)},set:function(e,n,i){var o=i&&Xe(e);return L(e,n,i?E(e,t,i,"border-box"===ee.css(e,"boxSizing",!1,o),o):0)}}}),ee.cssHooks.marginRight=S(Y.reliableMarginRight,function(e,t){if(t)return ee.swap(e,{display:"inline-block"},O,[e,"marginRight"])}),ee.each({margin:"",padding:"",border:"Width"},function(e,t){ee.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+Te[i]+t]=r[i]||r[i-2]||r[0];return o}},$e.test(e)||(ee.cssHooks[e+t].set=L)}),ee.fn.extend({css:function(e,t){return ye(this,function(e,t,n){var i,o,r={},s=0;if(ee.isArray(t)){for(i=Xe(e),o=t.length;s<o;s++)r[t[s]]=ee.css(e,t[s],!1,i);return r}return n!==undefined?ee.style(e,t,n):ee.css(e,t)},e,t,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Le(this)?ee(this).show():ee(this).hide()})}}),ee.Tween=D,D.prototype={constructor:D,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ee.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.options.duration?this.pos=t=ee.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ee.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){ee.fx.step[e.prop]?ee.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ee.cssProps[e.prop]]||ee.cssHooks[e.prop])?ee.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ee.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ee.fx=D.prototype.init,ee.fx.step={};var Ge,Je,et=/^(?:toggle|show|hide)$/,tt=new RegExp("^(?:([+-])=|)("+Se+")([a-z%]*)$","i"),nt=/queueHooks$/,it=[Q],ot={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=tt.exec(t),r=o&&o[3]||(ee.cssNumber[e]?"":"px"),s=(ee.cssNumber[e]||"px"!==r&&+i)&&tt.exec(ee.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+i||1;do{s/=a=a||".5",ee.style(n.elem,e,s+r)}while(a!==(a=n.cur()/i)&&1!==a&&--l)}return o&&(s=n.start=+s||+i||0,n.unit=r,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]};ee.Animation=ee.extend(R,{tweener:function(e,t){ee.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;i<o;i++)n=e[i],ot[n]=ot[n]||[],ot[n].unshift(t)},prefilter:function(e,t){t?it.unshift(e):it.push(e)}}),ee.speed=function(e,t,n){var i=e&&"object"==typeof e?ee.extend({},e):{complete:n||!n&&t||ee.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ee.isFunction(t)&&t};return i.duration=ee.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ee.fx.speeds?ee.fx.speeds[i.duration]:ee.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ee.isFunction(i.old)&&i.old.call(this),i.queue&&ee.dequeue(this,i.queue)},i},ee.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Le).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=ee.isEmptyObject(e),r=ee.speed(t,n,i),s=function(){var t=R(this,ee.extend({},e),r);(o||ge.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=ee.timers,s=ge.get(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&nt.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));!t&&n||ee.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ge.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=ee.timers,s=i?i.length:0;for(n.finish=!0,ee.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ee.each(["toggle","show","hide"],function(e,t){var n=ee.fn[t];ee.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,i,o)}}),ee.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ee.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ee.timers=[],ee.fx.tick=function(){var e,t=0,n=ee.timers;for(Ge=ee.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ee.fx.stop(),Ge=undefined},ee.fx.timer=function(e){ee.timers.push(e),e()?ee.fx.start():ee.timers.pop()},ee.fx.interval=13,ee.fx.start=function(){Je||(Je=setInterval(ee.fx.tick,ee.fx.interval))},ee.fx.stop=function(){clearInterval(Je),Je=null},ee.fx.speeds={slow:600,fast:200,_default:400},ee.fn.delay=function(e,t){return e=ee.fx&&ee.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=G.createElement("input"),t=G.createElement("select"),n=t.appendChild(G.createElement("option"));e.type="checkbox",Y.checkOn=""!==e.value,Y.optSelected=n.selected,t.disabled=!0,Y.optDisabled=!n.disabled,(e=G.createElement("input")).value="t",e.type="radio",Y.radioValue="t"===e.value}();var rt,st,at=ee.expr.attrHandle;ee.fn.extend({attr:function(e,t){return ye(this,ee.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ee.removeAttr(this,e)})}}),ee.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===ke?ee.prop(e,t,n):(1===r&&ee.isXMLDoc(e)||(t=t.toLowerCase(),i=ee.attrHooks[t]||(ee.expr.match.bool.test(t)?st:rt)),n===undefined?i&&"get"in i&&null!==(o=i.get(e,t))?o:null==(o=ee.find.attr(e,t))?undefined:o:null!==n?i&&"set"in i&&(o=i.set(e,n,t))!==undefined?o:(e.setAttribute(t,n+""),n):void ee.removeAttr(e,t))},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(fe);if(r&&1===e.nodeType)for(;n=r[o++];)i=ee.propFix[n]||n,ee.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Y.radioValue&&"radio"===t&&ee.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),st={set:function(e,t,n){return!1===t?ee.removeAttr(e,n):e.setAttribute(n,n),n}},ee.each(ee.expr.match.bool.source.match(/\w+/g),function(e,t){var n=at[t]||ee.find.attr;at[t]=function(e,t,i){var o,r;return i||(r=at[t],at[t]=o,o=null!=n(e,t,i)?t.toLowerCase():null,at[t]=r),o}});var lt=/^(?:input|select|textarea|button)$/i;ee.fn.extend({prop:function(e,t){return ye(this,ee.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ee.propFix[e]||e]})}}),ee.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return(1!==r||!ee.isXMLDoc(e))&&(t=ee.propFix[t]||t,o=ee.propHooks[t]),n!==undefined?o&&"set"in o&&(i=o.set(e,n,t))!==undefined?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||lt.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Y.optSelected||(ee.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),ee.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ee.propFix[this.toLowerCase()]=this});var dt=/[\t\r\n\f]/g;ee.fn.extend({addClass:function(e){var t,n,i,o,r,s,a="string"==typeof e&&e,l=0,d=this.length;if(ee.isFunction(e))return this.each(function(t){ee(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(fe)||[];l<d;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(dt," "):" ")){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=ee.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,o,r,s,a=0===arguments.length||"string"==typeof e&&e,l=0,d=this.length;if(ee.isFunction(e))return this.each(function(t){ee(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(fe)||[];l<d;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(dt," "):"")){for(r=0;o=t[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");s=e?ee.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ee.isFunction(e)?this.each(function(n){ee(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,o=ee(this),r=e.match(fe)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else n!==ke&&"boolean"!==n||(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||!1===e?"":ge.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(dt," ").indexOf(t)>=0)return!0;return!1}});var ct=/\r/g;ee.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=ee.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,ee(this).val()):e)?o="":"number"==typeof o?o+="":ee.isArray(o)&&(o=ee.map(o,function(e){return null==e?"":e+""})),(t=ee.valHooks[this.type]||ee.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&t.set(this,o,"value")!==undefined||(this.value=o))})):o?(t=ee.valHooks[o.type]||ee.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&(n=t.get(o,"value"))!==undefined?n:"string"==typeof(n=o.value)?n.replace(ct,""):null==n?"":n:void 0}}),ee.extend({valHooks:{option:{get:function(e){var t=ee.find.attr(e,"value");return null!=t?t:ee.trim(ee.text(e))}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,r="select-one"===e.type||o<0,s=r?null:[],a=r?o+1:i.length,l=o<0?a:r?o:0;l<a;l++)if(((n=i[l]).selected||l===o)&&(Y.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ee.nodeName(n.parentNode,"optgroup"))){if(t=ee(n).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var n,i,o=e.options,r=ee.makeArray(t),s=o.length;s--;)((i=o[s]).selected=ee.inArray(i.value,r)>=0)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),ee.each(["radio","checkbox"],function(){ee.valHooks[this]={set:function(e,t){if(ee.isArray(t))return e.checked=ee.inArray(ee(e).val(),t)>=0}},Y.checkOn||(ee.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ee.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ee.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ee.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ht=ee.now(),ut=/\?/;ee.parseJSON=function(e){return JSON.parse(e+"")},ee.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new DOMParser).parseFromString(t,"text/xml")}catch(e){n=undefined}return n&&!n.getElementsByTagName("parsererror").length||ee.error("Invalid XML: "+t),n};var pt=/#.*$/,ft=/([?&])_=[^&]*/,mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,yt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,vt=/^\/\//,bt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,wt={},xt={},Ot="*/".concat("*"),St=t.location.href,Tt=bt.exec(St.toLowerCase())||[];ee.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St,type:"GET",isLocal:yt.test(Tt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ot,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ee.parseJSON,"text xml":ee.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_(_(e,ee.ajaxSettings),t):_(ee.ajaxSettings,e)},ajaxPrefilter:j(wt),ajaxTransport:j(xt),ajax:function(t,n){function i(e,t,n,i){var a,d,h,v,b,x=t;2!==w&&(w=2,l&&clearTimeout(l),o=undefined,s=i||"",O.readyState=e>0?4:0,a=e>=200&&e<300||304===e,n&&(v=q(u,O,n)),v=F(u,v,O,a),a?(u.ifModified&&((b=O.getResponseHeader("Last-Modified"))&&(ee.lastModified[r]=b),(b=O.getResponseHeader("etag"))&&(ee.etag[r]=b)),204===e||"HEAD"===u.type?x="nocontent":304===e?x="notmodified":(x=v.state,d=v.data,a=!(h=v.error))):(h=x,!e&&x||(x="error",e<0&&(e=0))),O.status=e,O.statusText=(t||x)+"",a?m.resolveWith(p,[d,x,O]):m.rejectWith(p,[O,x,h]),O.statusCode(g),g=undefined,c&&f.trigger(a?"ajaxSuccess":"ajaxError",[O,u,a?d:h]),y.fireWith(p,[O,x]),c&&(f.trigger("ajaxComplete",[O,u]),--ee.active||ee.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=undefined),n=n||{};var o,r,s,a,l,d,c,h,u=ee.ajaxSetup({},n),p=u.context||u,f=u.context&&(p.nodeType||p.jquery)?ee(p):ee.event,m=ee.Deferred(),y=ee.Callbacks("once memory"),g=u.statusCode||{},v={},b={},w=0,x="canceled",O={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!a)for(a={};t=mt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return w||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)g[t]=[g[t],e[t]];else O.always(e[O.status]);return this},abort:function(e){var t=e||x;return o&&o.abort(t),i(0,t),this}};if(m.promise(O).complete=y.add,O.success=O.done,O.error=O.fail,u.url=((t||u.url||St)+"").replace(pt,"").replace(vt,Tt[1]+"//"),u.type=n.method||n.type||u.method||u.type,u.dataTypes=ee.trim(u.dataType||"*").toLowerCase().match(fe)||[""],null==u.crossDomain&&(d=bt.exec(u.url.toLowerCase()),u.crossDomain=!(!d||d[1]===Tt[1]&&d[2]===Tt[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Tt[3]||("http:"===Tt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=ee.param(u.data,u.traditional)),I(wt,u,n,O),2===w)return O;for(h in(c=ee.event&&u.global)&&0==ee.active++&&ee.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!gt.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(ut.test(r)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=ft.test(r)?r.replace(ft,"$1_="+ht++):r+(ut.test(r)?"&":"?")+"_="+ht++)),u.ifModified&&(ee.lastModified[r]&&O.setRequestHeader("If-Modified-Since",ee.lastModified[r]),ee.etag[r]&&O.setRequestHeader("If-None-Match",ee.etag[r])),(u.data&&u.hasContent&&!1!==u.contentType||n.contentType)&&O.setRequestHeader("Content-Type",u.contentType),O.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Ot+"; q=0.01":""):u.accepts["*"]),u.headers)O.setRequestHeader(h,u.headers[h]);if(u.beforeSend&&(!1===u.beforeSend.call(p,O,u)||2===w))return O.abort();for(h in x="abort",{success:1,error:1,complete:1})O[h](u[h]);if(o=I(xt,u,n,O)){O.readyState=1,c&&f.trigger("ajaxSend",[O,u]),u.async&&u.timeout>0&&(l=setTimeout(function(){O.abort("timeout")},u.timeout));try{w=1,o.send(v,i)}catch(e){if(!(w<2))throw e;i(-1,e)}}else i(-1,"No Transport");return O},getJSON:function(e,t,n){return ee.get(e,t,n,"json")},getScript:function(e,t){return ee.get(e,undefined,t,"script")}}),ee.each(["get","post"],function(e,t){ee[t]=function(e,n,i,o){return ee.isFunction(n)&&(o=o||i,i=n,n=undefined),ee.ajax({url:e,type:t,dataType:o,data:n,success:i})}}),ee._evalUrl=function(e){return ee.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ee.fn.extend({wrapAll:function(e){var t;return ee.isFunction(e)?this.each(function(t){ee(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ee(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ee.isFunction(e)?this.each(function(t){ee(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ee(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ee.isFunction(e);return this.each(function(n){ee(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ee.nodeName(this,"body")||ee(this).replaceWith(this.childNodes)}).end()}}),ee.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},ee.expr.filters.visible=function(e){return!ee.expr.filters.hidden(e)};var Lt=/%20/g,Et=/\[\]$/,kt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;ee.param=function(e,t){var n,i=[],o=function(e,t){t=ee.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=ee.ajaxSettings&&ee.ajaxSettings.traditional),ee.isArray(e)||e.jquery&&!ee.isPlainObject(e))ee.each(e,function(){o(this.name,this.value)});else for(n in e)H(n,e[n],t,o);return i.join("&").replace(Lt,"+")},ee.fn.extend({serialize:function(){return ee.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ee.prop(this,"elements");return e?ee.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ee(this).is(":disabled")&&Dt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!Ee.test(e))}).map(function(e,t){var n=ee(this).val();return null==n?null:ee.isArray(n)?ee.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),ee.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Mt=0,At={},Nt={0:200,1223:204},Qt=ee.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){
for(var e in At)At[e]()}),Y.cors=!!Qt&&"withCredentials"in Qt,Y.ajax=Qt=!!Qt,ee.ajaxTransport(function(t){var n;if(Y.cors||Qt&&!t.crossDomain)return{send:function(i,o){var r,s=t.xhr(),a=++Mt;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)s[r]=t.xhrFields[r];for(r in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(r,i[r]);n=function(e){return function(){n&&(delete At[a],n=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?o(s.status,s.statusText):o(Nt[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=n(),s.onerror=n("error"),n=At[a]=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),ee.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ee.globalEval(e),e}}}),ee.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ee.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(i,o){t=ee("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),G.head.appendChild(t[0])},abort:function(){n&&n()}}});var Zt=[],Rt=/(=)\?(?=&|$)|\?\?/;ee.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Zt.pop()||ee.expando+"_"+ht++;return this[e]=!0,e}}),ee.ajaxPrefilter("json jsonp",function(e,n,i){var o,r,s,a=!1!==e.jsonp&&(Rt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=ee.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Rt,"$1"+o):!1!==e.jsonp&&(e.url+=(ut.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||ee.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},i.always(function(){t[o]=r,e[o]&&(e.jsonpCallback=n.jsonpCallback,Zt.push(o)),s&&ee.isFunction(r)&&r(s[0]),s=r=undefined}),"script"}),ee.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||G;var i=ae.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=ee.buildFragment([e],t,o),o&&o.length&&ee(o).remove(),ee.merge([],i.childNodes))};var jt=ee.fn.load;ee.fn.load=function(e,t,n){if("string"!=typeof e&&jt)return jt.apply(this,arguments);var i,o,r,s=this,a=e.indexOf(" ");return a>=0&&(i=ee.trim(e.slice(a)),e=e.slice(0,a)),ee.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(o="POST"),s.length>0&&ee.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?ee("<div>").append(ee.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,r||[e.responseText,t,e])}),this},ee.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ee.fn[t]=function(e){return this.on(t,e)}}),ee.expr.filters.animated=function(e){return ee.grep(ee.timers,function(t){return e===t.elem}).length};var It=t.document.documentElement;ee.offset={setOffset:function(e,t,n){var i,o,r,s,a,l,d=ee.css(e,"position"),c=ee(e),h={};"static"===d&&(e.style.position="relative"),a=c.offset(),r=ee.css(e,"top"),l=ee.css(e,"left"),("absolute"===d||"fixed"===d)&&(r+l).indexOf("auto")>-1?(s=(i=c.position()).top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),ee.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+o),"using"in t?t.using.call(e,h):c.css(h)}},ee.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){ee.offset.setOffset(this,e,t)});var t,n,i=this[0],o={top:0,left:0},r=i&&i.ownerDocument;return r?(t=r.documentElement,ee.contains(t,i)?(typeof i.getBoundingClientRect!==ke&&(o=i.getBoundingClientRect()),n=P(r),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===ee.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ee.nodeName(e[0],"html")||(i=e.offset()),i.top+=ee.css(e[0],"borderTopWidth",!0),i.left+=ee.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ee.css(n,"marginTop",!0),left:t.left-i.left-ee.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||It;e&&!ee.nodeName(e,"html")&&"static"===ee.css(e,"position");)e=e.offsetParent;return e||It})}}),ee.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i="pageYOffset"===n;ee.fn[e]=function(o){return ye(this,function(e,o,r){var s=P(e);if(r===undefined)return s?s[n]:e[o];s?s.scrollTo(i?t.pageXOffset:r,i?r:t.pageYOffset):e[o]=r},e,o,arguments.length,null)}}),ee.each(["top","left"],function(e,t){ee.cssHooks[t]=S(Y.pixelPosition,function(e,n){if(n)return n=O(e,t),Be.test(n)?ee(e).position()[t]+"px":n})}),ee.each({Height:"height",Width:"width"},function(e,t){ee.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ee.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return ye(this,function(t,n,i){var o;return ee.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):i===undefined?ee.css(t,n,s):ee.style(t,n,i,s)},t,r?i:undefined,r,null)}})}),ee.fn.size=function(){return this.length},ee.fn.andSelf=ee.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ee});var _t=t.jQuery,qt=t.$;return ee.noConflict=function(e){return t.$===ee&&(t.$=qt),e&&t.jQuery===ee&&(t.jQuery=_t),ee},typeof n===ke&&(t.jQuery=t.$=ee),ee}),function(t,n){"use strict";var i;t.rails!==n&&t.error("jquery-ujs has already been loaded!");var o=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=i.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,n,i){var o=t.Event(n);return e.trigger(o,i),!1!==o.result},confirm:function(e){return confirm(e)},ajax:function(e){return t.ajax(e)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==n&&!1!==e.data("remote")},handleRemote:function(e){var o,r,s,a,l,d;if(i.fire(e,"ajax:before")){if(a=e.data("with-credentials")||null,l=e.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,e.is("form")){o=e.data("ujs:submit-button-formmethod")||e.attr("method"),r=e.data("ujs:submit-button-formaction")||e.attr("action"),s=t(e[0]).serializeArray();var c=e.data("ujs:submit-button");c&&(s.push(c),e.data("ujs:submit-button",null)),e.data("ujs:submit-button-formmethod",null),e.data("ujs:submit-button-formaction",null)}else e.is(i.inputChangeSelector)?(o=e.data("method"),r=e.data("url"),s=e.serialize(),e.data("params")&&(s=s+"&"+e.data("params"))):e.is(i.buttonClickSelector)?(o=e.data("method")||"get",r=e.data("url"),s=e.serialize(),e.data("params")&&(s=s+"&"+e.data("params"))):(o=e.data("method"),r=i.href(e),s=e.data("params")||null);return d={type:o||"GET",data:s,dataType:l,beforeSend:function(t,o){if(o.dataType===n&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),!i.fire(e,"ajax:beforeSend",[t,o]))return!1;e.trigger("ajax:send",t)},success:function(t,n,i){e.trigger("ajax:success",[t,n,i])},complete:function(t,n){e.trigger("ajax:complete",[t,n])},error:function(t,n,i){e.trigger("ajax:error",[t,n,i])},crossDomain:i.isCrossDomain(r)},a&&(d.xhrFields={withCredentials:a}),r&&(d.url=r),i.ajax(d)}return!1},isCrossDomain:function(t){var n=document.createElement("a");n.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||n.protocol+"//"+n.host==i.protocol+"//"+i.host)}catch(e){return!0}},handleMethod:function(e){var o=i.href(e),r=e.data("method"),s=e.attr("target"),a=i.csrfToken(),l=i.csrfParam(),d=t('<form method="post" action="'+o+'"></form>'),c='<input name="_method" value="'+r+'" type="hidden" />';l===n||a===n||i.isCrossDomain(o)||(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&d.attr("target",s),d.hide().append(c).appendTo("body"),d.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(e){var t,i;t=e.is("button")?"html":"val",(i=e.data("disable-with"))!==n&&(e.data("ujs:enable-with",e[t]()),e[t](i)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")!==n&&(e[t](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(t){var n,o=t.data("confirm"),r=!1;if(!o)return!0;if(i.fire(t,"confirm")){try{r=i.confirm(o)}catch(e){(console.error||console.log).call(console,e.stack||e)}n=i.fire(t,"confirm:complete",[r])}return r&&n},blankInputs:function(e,n,i){var o,r,s,a=t(),l=n||"input,textarea",d=e.find(l),c={};return d.each(function(){(o=t(this)).is("input[type=radio]")?(s=o.attr("name"),c[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(r=e.find('input[type=radio][name="'+s+'"]'),a=a.add(r)),c[s]=s)):(o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val())===i&&(a=a.add(o))}),!!a.length&&a},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(e){var t=e.data("disable-with");t!==n&&(e.data("ujs:enable-with",e.html()),e.html(t)),e.bind("click.railsDisable",function(e){return i.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==n&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},i.fire(o,"rails:attachBindings")&&(t.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),o.on("ajax:complete",i.linkDisableSelector,function(){i.enableElement(t(this))}),o.on("ajax:complete",i.buttonDisableSelector,function(){i.enableFormElement(t(this))}),o.on("click.rails",i.linkClickSelector,function(e){var n=t(this),o=n.data("method"),r=n.data("params"),s=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!s&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(s&&(!o||"GET"===o)&&!r)return!0;var a=i.handleRemote(n);return!1===a?i.enableElement(n):a.fail(function(){i.enableElement(n)}),!1}return o?(i.handleMethod(n),!1):void 0}),o.on("click.rails",i.buttonClickSelector,function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var o=i.handleRemote(n);return!1===o?i.enableFormElement(n):o.fail(function(){i.enableFormElement(n)}),!1}),o.on("change.rails",i.inputChangeSelector,function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),o.on("submit.rails",i.formSubmitSelector,function(e){var o,r,s=t(this),a=i.isRemote(s);if(!i.allowAction(s))return i.stopEverything(e);if(s.attr("novalidate")===n)if(s.data("ujs:formnovalidate-button")===n){if((o=i.blankInputs(s,i.requiredInputSelector,!1))&&i.fire(s,"ajax:aborted:required",[o]))return i.stopEverything(e)}else s.data("ujs:formnovalidate-button",n);if(a){if(r=i.nonBlankInputs(s,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(s)},13);var l=i.fire(s,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(s)},13),l}return i.handleRemote(s),!1}setTimeout(function(){i.disableFormElements(s)},13)}),o.on("click.rails",i.formInputClickSelector,function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var o=n.attr("name"),r=o?{name:o,value:n.val()}:null,s=n.closest("form");0===s.length&&(s=t("#"+n.attr("form"))),s.data("ujs:submit-button",r),s.data("ujs:formnovalidate-button",n.attr("formnovalidate")),s.data("ujs:submit-button-formaction",n.attr("formaction")),s.data("ujs:submit-button-formmethod",n.attr("formmethod"))}),o.on("ajax:send.rails",i.formSubmitSelector,function(e){this===e.target&&i.disableFormElements(t(this))}),o.on("ajax:complete.rails",i.formSubmitSelector,function(e){this===e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery);var OZ={$:function(e){return"string"==typeof e?document.getElementById(e):e},select:function(e){return document.querySelectorAll(e)},opera:!!window.opera,ie:!!document.attachEvent&&!window.opera,gecko:!!document.getAnonymousElementByAttribute,webkit:!!navigator.userAgent.match(/webkit/i),khtml:!!navigator.userAgent.match(/khtml/i)||!!navigator.userAgent.match(/konqueror/i),Event:{_id:0,_byName:{},_byID:{},add:function(e,t,n){for(var i=OZ.Event._id++,o=OZ.$(e),r=o&&o.attachEvent?function(){return n.apply(o,arguments)}:n,s=[o,t,r],a=t.split(" ");a.length;){var l=a.pop();o&&(o.addEventListener?o.addEventListener(l,r,!1):o.attachEvent&&o.attachEvent("on"+l,r)),l in OZ.Event._byName||(OZ.Event._byName[l]={}),OZ.Event._byName[l][i]=s}return OZ.Event._byID[i]=s,i},remove:function(e){var t=OZ.Event._byID[e];if(t){for(var n=t[0],i=t[1].split(" ");i.length;){var o=i.pop();n&&(n.removeEventListener?n.removeEventListener(o,t[2],!1):n.detachEvent&&n.detachEvent("on"+o,t[2])),delete OZ.Event._byName[o][e]}delete OZ.Event._byID[e]}},stop:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},prevent:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},target:function(e){return e.target||e.srcElement}},Class:function(){var e=function(){var e=arguments.callee.prototype.init;e&&e.apply(this,arguments)};return e.implement=function(e){for(var t in e.prototype)this.prototype[t]=e.prototype[t];return this},e.extend=function(e){var t=function(){};return t.prototype=e.prototype,this.prototype=new t,this.prototype.constructor=this,this},e.prototype.bind=function(e){return e.bind(this)},e.prototype.dispatch=function(e,t){var n={type:e,target:this,timeStamp:(new Date).getTime(),data:t},i=[],o=OZ.Event._byName[e];for(var r in o){var s=o[r];s[0]&&s[0]!=this||i.push(s[2])}for(var a=i.length,l=0;l<a;l++)i[l](n)},e},DOM:{elm:function(e,t){var n=document.createElement(e);for(var i in t){var o=t[i];"class"==i&&(i="className"),i in n&&(n[i]=o)}return OZ.Style.set(n,t),n},text:function(e){return document.createTextNode(e)},clear:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},pos:function(e){var t=OZ.$(e),n=t.ownerDocument.documentElement,i=t.parentNode,o=y=0;if(t==n)return[o,y];for(;;){if("fixed"==OZ.Style.get(t,"position"))return o+=t.offsetLeft,y+=t.offsetTop,[o,y];if((!OZ.opera||i!=n&&"block"==OZ.Style.get(t,"display"))&&(o-=i.scrollLeft,y-=i.scrollTop),i!=t.offsetParent&&t.parentNode!=n||(o+=t.offsetLeft,y+=t.offsetTop,t=i),i==n)return[o,y];i=i.parentNode}},scroll:function(){return[document.documentElement.scrollLeft||document.body.scrollLeft||0,document.documentElement.scrollTop||document.body.scrollTop||0]},win:function(e){return e?[window.innerWidth,window.innerHeight]:[document.documentElement.clientWidth,document.documentElement.clientHeight]},hasClass:function(e,t){var n=OZ.$(e).className;return-1!=(n?n.split(" "):[]).indexOf(t)},addClass:function(e,t){if(!OZ.DOM.hasClass(e,t)){var n=OZ.$(e).className,i=n?n.split(" "):[];i.push(t),OZ.$(e).className=i.join(" ")}},removeClass:function(e,t){if(OZ.DOM.hasClass(e,t)){var n=OZ.$(e).className,i=(i=n?n.split(" "):[]).filter(function(e){return e!=t});OZ.$(e).className=i.join(" ")}},append:function(){if(1==arguments.length)for(var e=arguments[0],t=OZ.$(e[0]),n=1;n<e.length;n++)t.appendChild(OZ.$(e[n]));else for(n=0;n<arguments.length;n++)OZ.DOM.append(arguments[n])}},Style:{get:function(t,n){if(document.defaultView&&document.defaultView.getComputedStyle){try{var i=t.ownerDocument.defaultView.getComputedStyle(t,"")}catch(e){return!1}return!!i&&i[n]}return t.currentStyle[n]},set:function(e,t){for(var n in t){var i=t[n];"opacity"==n&&OZ.ie?(n="filter",i="alpha(opacity="+Math.round(100*i)+")",e.style.zoom=1):"float"==n&&(n=OZ.ie?"styleFloat":"cssFloat"),n in e.style&&(e.style[n]=i)}}},Request:function(e,t,n){var i={data:!1,method:"get",headers:{},xml:!1};for(var o in n)i[o]=n[o];i.method=i.method.toUpperCase();var r=!1;if(window.XMLHttpRequest)r=new XMLHttpRequest;else{if(!window.ActiveXObject)return!1;r=new ActiveXObject("Microsoft.XMLHTTP")}for(var o in r.open(i.method,e,!0),r.onreadystatechange=function(){if(4==r.readyState&&t){var e=i.xml?r.responseXML:r.responseText,n={},o=r.getAllResponseHeaders();if(o){o=o.split(/[\r\n]/);for(var s=0;s<o.length;s++)if(o[s]){var a=o[s].match(/^([^:]+): *(.*)$/);n[a[1]]=a[2]}}t(e,r.status,n)}},"POST"==i.method&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.headers)r.setRequestHeader(o,i.headers[o]);return r.send(i.data||null),r}};Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n=this.length,i=t||0;for(i<0&&(i+=n);i<n;i++)if(i in this&&this[i]===e)return i;return-1}),Array.indexOf||(Array.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e,t){var n=this.length,i=t||n-1;for(i<0&&(i+=n);i>-1;i--)if(i in this&&this[i]===e)return i;return-1}),Array.lastIndexOf||(Array.lastIndexOf=function(e,t,n){return Array.prototype.lastIndexOf.call(e,t,n)}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var n=this.length,i=0;i<n;i++)i in this&&e.call(t,this[i],i,this)}),Array.forEach||(Array.forEach=function(e,t,n){Array.prototype.forEach.call(e,t,n)}),Array.prototype.every||(Array.prototype.every=function(e,t){for(var n=this.length,i=0;i<n;i++)if(i in this&&!e.call(t,this[i],i,this))return!1;return!0}),Array.every||(Array.every=function(e,t,n){return Array.prototype.every.call(e,t,n)}),Array.prototype.some||(Array.prototype.some=function(e,t){for(var n=this.length,i=0;i<n;i++)if(i in this&&e.call(t,this[i],i,this))return!0;return!1}),Array.some||(Array.some=function(e,t,n){return Array.prototype.some.call(e,t,n)}),Array.prototype.map||(Array.prototype.map=function(e,t){for(var n=this.length,i=new Array(n),o=0;o<n;o++)o in this&&(i[o]=e.call(t,this[o],o,this));return i}),Array.map||(Array.map=function(e,t,n){return Array.prototype.map.call(e,t,n)}),Array.prototype.filter||(Array.prototype.filter=function(e,t){for(var n=this.length,i=[],o=0;o<n;o++)if(o in this){var r=this[o];e.call(t,r,o,this)&&i.push(r)}return i}),Array.filter||(Array.filter=function(e,t,n){return Array.prototype.filter.call(e,t,n)});var CONFIG={AVAILABLE_DBS:["mysql","sqlite","web2py","mssql","postgresql","oracle","sqlalchemy","vfp9","cubrid"],DEFAULT_DB:"mysql",AVAILABLE_LOCALES:["ar","cs","de","el","en","eo","es","fr","hu","it","ja","nl","pl","pt_BR","ro","ru","sv","zh"],DEFAULT_LOCALE:"en",AVAILABLE_BACKENDS:["php-mysql","php-blank","php-file","php-sqlite","php-mysql+file","php-postgresql","php-pdo","perl-file","php-cubrid","asp-file"],DEFAULT_BACKEND:["php-mysql"],RELATION_THICKNESS:2,RELATION_SPACING:15,RELATION_COLORS:["#000","#800","#080","#008","#088","#808","#088"],STATIC_PATH:"",XHR_PATH:"",DROPBOX_KEY:null};"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),String.prototype.trim||(String.prototype.trim=function(){return this.match(/^\s*([\s\S]*?)\s*$/)[1]}),String.trim||(String.trim=function(e){return String.prototype.trim.call(e)}),Object.create||(Object.create=function(e){if(arguments.length>1)throw new Error("Object.create polyfill only accepts the first parameter");var t=function(){};return t.prototype=e,new t});var DATATYPES=!1,LOCALE={},SQL={_subscribers:{},publish:function(e,t,n){var i=this._subscribers[e]||[],o={target:t,data:n};i.forEach(function(e){e(o)})},subscribe:function(e,t){e in this._subscribers||(this._subscribers[e]=[]),-1==this._subscribers[e].indexOf(t)&&this._subscribers[e].push(t)},unsubscribe:function(e,t){var n=this._subscribers[e].indexOf(t);n>-1&&this._subscribers[e].splice(n,1)},escape:function(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")},Visual:function(){this._init(),this._build()}};SQL.Visual.prototype._init=function(){this.dom={container:null,title:null},this.data={title:""}},SQL.Visual.prototype._build=function(){},SQL.Visual.prototype.toXML=function(){},SQL.Visual.prototype.fromXML=function(){},SQL.Visual.prototype.destroy=function(){var e=this.dom.container.parentNode;e&&1==e.nodeType&&e.removeChild(this.dom.container)},SQL.Visual.prototype.setTitle=function(e){e&&(this.data.title=e,this.dom.title.innerHTML=e)},SQL.Visual.prototype.getTitle=function(){return this.data.title},SQL.Visual.prototype.redraw=function(){},SQL.Row=function(e,t,n){this.owner=e,this.relations=[],this.keys=[],this.selected=!1,this.expanded=!1,SQL.Visual.apply(this),this.data.type=0,this.data.size="",this.data.def=null,this.data.nll=!0,this.data.ai=!1,this.data.comment="",n&&this.update(n),this.setTitle(t)},SQL.Row.prototype=Object.create(SQL.Visual.prototype),SQL.Row.prototype._build=function(){this.dom.container=OZ.DOM.elm("tbody"),this.dom.content=OZ.DOM.elm("tr"),this.dom.selected=OZ.DOM.elm("div",{className:"selected",innerHTML:"&raquo;&nbsp;"}),this.dom.title=OZ.DOM.elm("div",{className:"title"});var e=OZ.DOM.elm("td"),t=OZ.DOM.elm("td",{className:"typehint"});this.dom.typehint=t,OZ.DOM.append([this.dom.container,this.dom.content],[this.dom.content,e,t],[e,this.dom.selected,this.dom.title]),this.enter=this.enter.bind(this),this.changeComment=this.changeComment.bind(this),OZ.Event.add(this.dom.container,"click",this.click.bind(this)),OZ.Event.add(this.dom.container,"dblclick",this.dblclick.bind(this))},SQL.Row.prototype.select=function(){this.selected||(this.selected=!0,this.redraw())},SQL.Row.prototype.deselect=function(){this.selected&&(this.selected=!1,this.redraw(),this.collapse())},SQL.Row.prototype.setTitle=function(e){for(var t=this.getTitle(),n=0;n<this.relations.length;n++){var i=this.relations[n];if(i.row1==this){var o=i.row2.getTitle().replace(new RegExp(t,"g"),e);o!=i.row2.getTitle()&&i.row2.setTitle(o)}}SQL.Visual.prototype.setTitle.apply(this,[e])},SQL.Row.prototype.click=function(){SQL.publish("rowclick",this),this.owner.owner.rowManager.select(this)},SQL.Row.prototype.dblclick=function(e){OZ.Event.prevent(e),OZ.Event.stop(e),this.expand()},SQL.Row.prototype.update=function(e){var t=SQL.Designer;for(var n in e.nll&&e.def&&e.def.match(/^null$/i)&&(e.def=null),e)this.data[n]=e[n];this.data.nll||null!==this.data.def||(this.data.def="");this.getDataType();for(var i=0;i<this.relations.length;i++){var o=this.relations[i];o.row1==this&&o.row2.update({type:t.getFKTypeFor(this.data.type),size:this.data.size})}this.redraw()},SQL.Row.prototype.up=function(){var e=this.owner.rows,t=e.indexOf(this);t&&(e[t-1].dom.container.parentNode.insertBefore(this.dom.container,e[t-1].dom.container),e.splice(t,1),e.splice(t-1,0,this),this.redraw())},SQL.Row.prototype.down=function(){var e=this.owner.rows,t=e.indexOf(this);t+1!=this.owner.rows.length&&(e[t].dom.container.parentNode.insertBefore(this.dom.container,e[t+1].dom.container.nextSibling),e.splice(t,1),e.splice(t+1,0,this),this.redraw())},SQL.Row.prototype.buildEdit=function(){OZ.DOM.clear(this.dom.container);var e=[];this.dom.name=OZ.DOM.elm("input"),this.dom.name.type="text",e.push(["name",this.dom.name]),OZ.Event.add(this.dom.name,"keypress",this.enter),this.dom.type=this.buildTypeSelect(this.data.type),e.push(["type",this.dom.type]),this.dom.size=OZ.DOM.elm("input"),this.dom.size.type="text",e.push(["size",this.dom.size]),this.dom.def=OZ.DOM.elm("input"),this.dom.def.type="text",e.push(["def",this.dom.def]),this.dom.ai=OZ.DOM.elm("input"),this.dom.ai.type="checkbox",e.push(["ai",this.dom.ai]),this.dom.nll=OZ.DOM.elm("input"),this.dom.nll.type="checkbox",e.push(["null",this.dom.nll]),this.dom.comment=OZ.DOM.elm("span",{className:"comment"}),this.dom.comment.innerHTML="",this.dom.comment.appendChild(document.createTextNode(this.data.comment)),this.dom.commentbtn=OZ.DOM.elm("input"),this.dom.commentbtn.type="button",this.dom.commentbtn.value=_("comment"),OZ.Event.add(this.dom.commentbtn,"click",this.changeComment);for(var t=0;t<e.length;t++){var n=e[t],i=OZ.DOM.elm("tr"),o=OZ.DOM.elm("td"),r=OZ.DOM.elm("td"),s=OZ.DOM.text(_(n[0])+": ");OZ.DOM.append([i,o,r],[o,s],[r,n[1]]),this.dom.container.appendChild(i)}i=OZ.DOM.elm("tr"),o=OZ.DOM.elm("td"),r=OZ.DOM.elm("td");OZ.DOM.append([i,o,r],[o,this.dom.comment],[r,this.dom.commentbtn]),this.dom.container.appendChild(i)},SQL.Row.prototype.changeComment=function(){var e=prompt(_("commenttext"),this.data.comment);null!==e&&(this.data.comment=e,this.dom.comment.innerHTML="",this.dom.comment.appendChild(document.createTextNode(this.data.comment)))},SQL.Row.prototype.expand=function(){this.expanded||(this.expanded=!0,this.buildEdit(),this.load(),this.redraw(),this.dom.name.focus(),this.dom.name.select())},SQL.Row.prototype.collapse=function(){if(this.expanded){this.expanded=!1;var e={type:this.dom.type.selectedIndex,def:this.dom.def.value,size:this.dom.size.value,nll:this.dom.nll.checked,ai:this.dom.ai.checked};OZ.DOM.clear(this.dom.container),this.dom.container.appendChild(this.dom.content),this.update(e),this.setTitle(this.dom.name.value)}},SQL.Row.prototype.load=function(){this.dom.name.value=this.getTitle();var e=this.data.def;null===e&&(e="NULL"),this.dom.def.value=e,this.dom.size.value=this.data.size,this.dom.nll.checked=this.data.nll,this.dom.ai.checked=this.data.ai},SQL.Row.prototype.redraw=function(){var e=this.getColor();this.dom.container.style.backgroundColor=e,OZ.DOM.removeClass(this.dom.title,"primary"),OZ.DOM.removeClass(this.dom.title,"key"),this.isPrimary()&&OZ.DOM.addClass(this.dom.title,"primary"),this.isKey()&&OZ.DOM.addClass(this.dom.title,"key"),this.dom.selected.style.display=this.selected?"":"none",this.dom.container.title=this.data.comment;var t=[];if(this.owner.owner.getOption("showtype")){var n=this.getDataType();t.push(n.getAttribute("sql"))}this.owner.owner.getOption("showsize")&&this.data.size&&t.push("("+this.data.size+")"),this.dom.typehint.innerHTML=t.join(" "),this.owner.redraw(),this.owner.owner.rowManager.redraw()},SQL.Row.prototype.addRelation=function(e){this.relations.push(e)},SQL.Row.prototype.removeRelation=function(e){var t=this.relations.indexOf(e);-1!=t&&this.relations.splice(t,1)},SQL.Row.prototype.addKey=function(e){this.keys.push(e),this.redraw()},SQL.Row.prototype.removeKey=function(e){var t=this.keys.indexOf(e);-1!=t&&(this.keys.splice(t,1),this.redraw())},SQL.Row.prototype.getDataType=function(){var e=this.data.type;return DATATYPES.getElementsByTagName("type")[e]},SQL.Row.prototype.getColor=function(){var e=this.getDataType(),t=this.getDataType().parentNode;return e.getAttribute("color")||t.getAttribute("color")||"#fff"},SQL.Row.prototype.buildTypeSelect=function(e){for(var t=OZ.DOM.elm("select"),n=DATATYPES.getElementsByTagName("group"),i=0;i<n.length;i++){var o=n[i],r=OZ.DOM.elm("optgroup");r.style.backgroundColor=o.getAttribute("color")||"#fff",r.label=o.getAttribute("label"),t.appendChild(r);for(var s=o.getElementsByTagName("type"),a=0;a<s.length;a++){var l=s[a],d=OZ.DOM.elm("option");l.getAttribute("color")&&(d.style.backgroundColor=l.getAttribute("color")),l.getAttribute("note")&&(d.title=l.getAttribute("note")),d.innerHTML=l.getAttribute("label"),r.appendChild(d)}}return t.selectedIndex=e,t},SQL.Row.prototype.destroy=function(){for(SQL.Visual.prototype.destroy.apply(this);this.relations.length;)this.owner.owner.removeRelation(this.relations[0]);for(var e=0;e<this.keys.length;e++)this.keys[e].removeRow(this)},SQL.Row.prototype.toXML=function(){var e="";e+='<row name="'+(n=this.getTitle().replace(/"/g,"&quot;"))+'" null="'+(this.data.nll?"1":"0")+'" autoincrement="'+(this.data.ai?"1":"0")+'">\n';var t=this.getDataType(),n=t.getAttribute("sql");if(this.data.size.length&&(n+="("+this.data.size+")"),e+="<datatype>"+n+"</datatype>\n",this.data.def||null===this.data.def){var i=t.getAttribute("quote"),o=this.data.def;null===o?o="NULL":"CURRENT_TIMESTAMP"!=o&&(o=i+o+i),e+="<default>"+SQL.escape(o)+"</default>"}for(var r=0;r<this.relations.length;r++){var s=this.relations[r];s.row2==this&&(e+='<relation table="'+s.row1.owner.getTitle()+'" row="'+s.row1.getTitle()+'" />\n')}return this.data.comment&&(e+="<comment>"+SQL.escape(this.data.comment)+"</comment>\n"),e+="</row>\n"},SQL.Row.prototype.fromXML=function(e){var t=e.getAttribute("name"),n={type:0,size:""};n.nll="1"==e.getAttribute("null"),n.ai="1"==e.getAttribute("autoincrement");var i=e.getElementsByTagName("comment");if(i.length&&i[0].firstChild&&(n.comment=i[0].firstChild.nodeValue),(d=e.getElementsByTagName("datatype")).length&&d[0].firstChild){var o=(p=d[0].firstChild.nodeValue.match(/^([^\(]+)(\((.*)\))?.*$/))[1];p[3]&&(n.size=p[3]);for(var r=window.DATATYPES.getElementsByTagName("type"),s=0;s<r.length;s++){var a=r[s].getAttribute("sql"),l=r[s].getAttribute("re");(a==o||l&&new RegExp(l).exec(o))&&(n.type=s)}}var d,c=DATATYPES.getElementsByTagName("type")[n.type];if((d=e.getElementsByTagName("default")).length&&d[0].firstChild){var h=d[0].firstChild.nodeValue;n.def=h;var u=c.getAttribute("quote");if(u){var p;l=new RegExp("^"+u+"(.*)"+u+"$");(p=h.match(l))&&(n.def=p[1])}}this.update(n),this.setTitle(t)},SQL.Row.prototype.isPrimary=function(){for(var e=0;e<this.keys.length;e++){if("PRIMARY"==this.keys[e].getType())return!0}return!1},SQL.Row.prototype.isUnique=function(){for(var e=0;e<this.keys.length;e++){var t=this.keys[e].getType();if("PRIMARY"==t||"UNIQUE"==t)return!0}return!1},SQL.Row.prototype.isKey=function(){return this.keys.length>0},SQL.Row.prototype.enter=function(e){13==e.keyCode&&this.collapse()},SQL.Table=function(e,t,n,i,o){this.owner=e,this.rows=[],this.keys=[],this.zIndex=0,this._ec=[],this.flag=!1,this.selected=!1,SQL.Visual.apply(this),this.data.comment="",this.setTitle(t),this.x=n||0,this.y=i||0,this.setZ(o),this.snap()},SQL.Table.prototype=Object.create(SQL.Visual.prototype),SQL.Table.prototype._build=function(){this.dom.container=OZ.DOM.elm("div",{
className:"table"}),this.dom.content=OZ.DOM.elm("table");var e=OZ.DOM.elm("thead"),t=OZ.DOM.elm("tr");this.dom.title=OZ.DOM.elm("td",{className:"title",colSpan:2}),OZ.DOM.append([this.dom.container,this.dom.content],[this.dom.content,e],[e,t],[t,this.dom.title]),this.dom.mini=OZ.DOM.elm("div",{className:"mini"}),this.owner.map.dom.container.appendChild(this.dom.mini),this._ec.push(OZ.Event.add(this.dom.container,"click",this.click.bind(this))),this._ec.push(OZ.Event.add(this.dom.container,"dblclick",this.dblclick.bind(this))),this._ec.push(OZ.Event.add(this.dom.container,"mousedown",this.down.bind(this))),this._ec.push(OZ.Event.add(this.dom.container,"touchstart",this.down.bind(this))),this._ec.push(OZ.Event.add(this.dom.container,"touchmove",OZ.Event.prevent))},SQL.Table.prototype.setTitle=function(e){for(var t=this.getTitle(),n=0;n<this.rows.length;n++)for(var i=this.rows[n],o=0;o<i.relations.length;o++){if(i.relations[o].row1==i){var r=i.getTitle().replace(new RegExp(t,"g"),e);r!=i.getTitle()&&i.setTitle(r)}}SQL.Visual.prototype.setTitle.apply(this,[e])},SQL.Table.prototype.getRelations=function(){for(var e=[],t=0;t<this.rows.length;t++)for(var n=this.rows[t],i=0;i<n.relations.length;i++){var o=n.relations[i];-1==e.indexOf(o)&&e.push(o)}return e},SQL.Table.prototype.showRelations=function(){for(var e=this.getRelations(),t=0;t<e.length;t++)e[t].show()},SQL.Table.prototype.hideRelations=function(){for(var e=this.getRelations(),t=0;t<e.length;t++)e[t].hide()},SQL.Table.prototype.click=function(e){OZ.Event.stop(e);var t=OZ.Event.target(e);this.owner.tableManager.select(this),t==this.dom.title&&(SQL.publish("tableclick",this),this.owner.rowManager.select(!1))},SQL.Table.prototype.dblclick=function(e){OZ.Event.target(e)==this.dom.title&&this.owner.tableManager.edit()},SQL.Table.prototype.select=function(){this.selected||(this.selected=!0,OZ.DOM.addClass(this.dom.container,"selected"),OZ.DOM.addClass(this.dom.mini,"mini_selected"),this.redraw())},SQL.Table.prototype.deselect=function(){this.selected&&(this.selected=!1,OZ.DOM.removeClass(this.dom.container,"selected"),OZ.DOM.removeClass(this.dom.mini,"mini_selected"),this.redraw())},SQL.Table.prototype.addRow=function(e,t){var n=new SQL.Row(this,e,t);return this.rows.push(n),this.dom.content.appendChild(n.dom.container),this.redraw(),n},SQL.Table.prototype.removeRow=function(e){var t=this.rows.indexOf(e);-1!=t&&(e.destroy(),this.rows.splice(t,1),this.redraw())},SQL.Table.prototype.addKey=function(e){var t=new SQL.Key(this,e);return this.keys.push(t),t},SQL.Table.prototype.removeKey=function(e){var t=this.keys.indexOf(e);-1!=t&&(e.destroy(),this.keys.splice(t,1))},SQL.Table.prototype.redraw=function(){var e=this.x,t=this.y;this.selected&&(e--,t--),this.dom.container.style.left=e+"px",this.dom.container.style.top=t+"px";var n=this.owner.map.width/this.owner.width,i=this.owner.map.height/this.owner.height,o=this.dom.container.offsetWidth*n,r=this.dom.container.offsetHeight*i;e=this.x*n,t=this.y*i;this.dom.mini.style.width=Math.round(o)+"px",this.dom.mini.style.height=Math.round(r)+"px",this.dom.mini.style.left=Math.round(e)+"px",this.dom.mini.style.top=Math.round(t)+"px",this.width=this.dom.container.offsetWidth,this.height=this.dom.container.offsetHeight;for(var s=this.getRelations(),a=0;a<s.length;a++)s[a].redraw()},SQL.Table.prototype.moveBy=function(e,t){this.x+=e,this.y+=t,this.snap(),this.redraw()},SQL.Table.prototype.moveTo=function(e,t){this.x=e,this.y=t,this.snap(),this.redraw()},SQL.Table.prototype.snap=function(){var e=parseInt(SQL.Designer.getOption("snap"));e&&(this.x=Math.round(this.x/e)*e,this.y=Math.round(this.y/e)*e)},SQL.Table.prototype.down=function(e){if(OZ.Event.stop(e),(o=OZ.Event.target(e))==this.dom.title){if("touchstart"==e.type)var t=e.touches[0],n="touchmove",i="touchend";else t=e,n="mousemove",i="mouseup";var o;!e.shiftKey&&this.selected||this.owner.tableManager.select(this,e.shiftKey),(o=SQL.Table).active=this.owner.tableManager.selection;var r=o.active.length;o.x=new Array(r),o.y=new Array(r);for(var s=0;s<r;s++)o.x[s]=o.active[s].x-t.clientX,o.y[s]=o.active[s].y-t.clientY;if(this.owner.getOption("hide"))for(s=0;s<r;s++)o.active[s].hideRelations();this.documentMove=OZ.Event.add(document,n,this.move.bind(this)),this.documentUp=OZ.Event.add(document,i,this.up.bind(this))}},SQL.Table.prototype.toXML=function(){var e=this.getTitle().replace(/"/g,"&quot;"),t="";t+='<table x="'+this.x+'" y="'+this.y+'" name="'+e+'">\n';for(var n=0;n<this.rows.length;n++)t+=this.rows[n].toXML();for(n=0;n<this.keys.length;n++)t+=this.keys[n].toXML();var i=this.getComment();return i&&(t+="<comment>"+SQL.escape(i)+"</comment>\n"),t+="</table>\n"},SQL.Table.prototype.fromXML=function(e){var t=e.getAttribute("name");this.setTitle(t);var n=parseInt(e.getAttribute("x"))||0,i=parseInt(e.getAttribute("y"))||0;this.moveTo(n,i);for(var o=e.getElementsByTagName("row"),r=0;r<o.length;r++){var s=o[r];this.addRow("").fromXML(s)}var a=e.getElementsByTagName("key");for(r=0;r<a.length;r++){var l=a[r];this.addKey().fromXML(l)}for(r=0;r<e.childNodes.length;r++){var d=e.childNodes[r];d.tagName&&"comment"==d.tagName.toLowerCase()&&d.firstChild&&this.setComment(d.firstChild.nodeValue)}},SQL.Table.prototype.getZ=function(){return this.zIndex},SQL.Table.prototype.setZ=function(e){this.zIndex=e,this.dom.container.style.zIndex=e},SQL.Table.prototype.findNamedRow=function(e){for(var t=0;t<this.rows.length;t++)if(this.rows[t].getTitle()==e)return this.rows[t];return!1},SQL.Table.prototype.setComment=function(e){this.data.comment=e,this.dom.title.title=this.data.comment},SQL.Table.prototype.getComment=function(){return this.data.comment},SQL.Table.prototype.move=function(e){var t=SQL.Table;if(SQL.Designer.removeSelection(),"touchmove"==e.type){if(e.touches.length>1)return;var n=e.touches[0]}else n=e;for(var i=0;i<t.active.length;i++){var o=t.x[i]+n.clientX,r=t.y[i]+n.clientY;o=Math.max(o,0),r=Math.max(r,0),t.active[i].moveTo(o,r)}},SQL.Table.prototype.up=function(){var e=SQL.Table;if(SQL.Designer.getOption("hide"))for(var t=0;t<e.active.length;t++)e.active[t].showRelations(),e.active[t].redraw();e.active=!1,OZ.Event.remove(this.documentMove),OZ.Event.remove(this.documentUp),this.owner.sync()},SQL.Table.prototype.destroy=function(){for(SQL.Visual.prototype.destroy.apply(this),this.dom.mini.parentNode.removeChild(this.dom.mini);this.rows.length;)this.removeRow(this.rows[0]);this._ec.forEach(OZ.Event.remove,OZ.Event)},SQL.Relation=function(e,t,n){this.owner=e,this.row1=t,this.row2=n,this.color="#000",this.hidden=!1,SQL.Visual.apply(this);var i=t.relations.concat(n.relations);if(i.length)this.color=i[0].getColor();else if(CONFIG.RELATION_COLORS){SQL.Relation._counter++;var o=SQL.Relation._counter-1;this.color=CONFIG.RELATION_COLORS[o%CONFIG.RELATION_COLORS.length]}if(this.row1.addRelation(this),this.row2.addRelation(this),this.dom=[],this.owner.vector){var r=document.createElementNS(this.owner.svgNS,"path");r.setAttribute("stroke",this.color),r.setAttribute("stroke-width",CONFIG.RELATION_THICKNESS),r.setAttribute("fill","none"),this.owner.dom.svg.appendChild(r),this.dom.push(r)}else for(var s=0;s<3;s++){var a=OZ.DOM.elm("div",{position:"absolute",className:"relation",backgroundColor:this.color});this.dom.push(a),1&s?OZ.Style.set(a,{width:CONFIG.RELATION_THICKNESS+"px"}):OZ.Style.set(a,{height:CONFIG.RELATION_THICKNESS+"px"}),this.owner.dom.container.appendChild(a)}this.redraw()},SQL.Relation._counter=0,SQL.Relation.prototype=Object.create(SQL.Visual.prototype),SQL.Relation.prototype.getColor=function(){return this.color},SQL.Relation.prototype.show=function(){this.hidden=!1;for(var e=0;e<this.dom.length;e++)this.dom[e].style.visibility=""},SQL.Relation.prototype.hide=function(){this.hidden=!0;for(var e=0;e<this.dom.length;e++)this.dom[e].style.visibility="hidden"},SQL.Relation.prototype.redrawNormal=function(e,t,n){if(this.owner.vector){var i="M "+e[0]+" "+e[1]+" C "+(e[0]+n)+" "+e[1]+" ";i+=t[0]-n+" "+t[1]+" "+t[0]+" "+t[1],this.dom[0].setAttribute("d",i)}else this.dom[0].style.left=e[0]+"px",this.dom[0].style.top=e[1]+"px",this.dom[0].style.width=n+"px",this.dom[1].style.left=e[0]+n+"px",this.dom[1].style.top=Math.min(e[1],t[1])+"px",this.dom[1].style.height=Math.abs(e[1]-t[1])+CONFIG.RELATION_THICKNESS+"px",this.dom[2].style.left=e[0]+n+1+"px",this.dom[2].style.top=t[1]+"px",this.dom[2].style.width=n+"px"},SQL.Relation.prototype.redrawSide=function(e,t,n){if(this.owner.vector){var i="M "+e[0]+" "+e[1]+" C "+n+" "+e[1]+" ";i+=n+" "+t[1]+" "+t[0]+" "+t[1],this.dom[0].setAttribute("d",i)}else this.dom[0].style.left=Math.min(n,e[0])+"px",this.dom[0].style.top=e[1]+"px",this.dom[0].style.width=Math.abs(e[0]-n)+"px",this.dom[1].style.left=n+"px",this.dom[1].style.top=Math.min(e[1],t[1])+"px",this.dom[1].style.height=Math.abs(e[1]-t[1])+CONFIG.RELATION_THICKNESS+"px",this.dom[2].style.left=Math.min(n,t[0])+"px",this.dom[2].style.top=t[1]+"px",this.dom[2].style.width=Math.abs(t[0]-n)+"px"},SQL.Relation.prototype.redraw=function(){if(!this.hidden){var e=this.row1.owner.dom.container,t=this.row2.owner.dom.container,n=e.offsetLeft,i=t.offsetLeft,o=n+e.offsetWidth,r=i+t.offsetWidth;e=e.offsetTop+this.row1.dom.container.offsetTop+Math.round(this.row1.dom.container.offsetHeight/2),t=t.offsetTop+this.row2.dom.container.offsetTop+Math.round(this.row2.dom.container.offsetHeight/2);this.row1.owner.selected&&(e++,n++,o--),this.row2.owner.selected&&(t++,i++,r--);var s=[0,0],a=[0,0];if(o<i||r<n){Math.abs(o-i)<Math.abs(r-n)?(s=[o,e],a=[i,t]):(s=[r,t],a=[n,e]);var l=Math.floor((a[0]-s[0])/2);this.redrawNormal(s,a,l)}else{var d=0;Math.abs(n-i)<Math.abs(o-r)?(s=[n,e],a=[i,t],d=Math.min(n,i)-CONFIG.RELATION_SPACING):(s=[o,e],a=[r,t],d=Math.max(o,r)+CONFIG.RELATION_SPACING),this.redrawSide(s,a,d)}}},SQL.Relation.prototype.destroy=function(){this.row1.removeRelation(this),this.row2.removeRelation(this);for(var e=0;e<this.dom.length;e++)this.dom[e].parentNode.removeChild(this.dom[e])},SQL.Key=function(e,t,n){this.owner=e,this.rows=[],this.type=t||"INDEX",this.name=n||"",SQL.Visual.apply(this)},SQL.Key.prototype=Object.create(SQL.Visual.prototype),SQL.Key.prototype.setName=function(e){this.name=e},SQL.Key.prototype.getName=function(){return this.name},SQL.Key.prototype.setType=function(e){if(e){this.type=e;for(var t=0;t<this.rows.length;t++)this.rows[t].redraw()}},SQL.Key.prototype.getType=function(){return this.type},SQL.Key.prototype.addRow=function(e){e.owner==this.owner&&(this.rows.push(e),e.addKey(this))},SQL.Key.prototype.removeRow=function(e){var t=this.rows.indexOf(e);-1!=t&&(e.removeKey(this),this.rows.splice(t,1))},SQL.Key.prototype.destroy=function(){for(var e=0;e<this.rows.length;e++)this.rows[e].removeKey(this)},SQL.Key.prototype.getLabel=function(){return this.name||this.type},SQL.Key.prototype.toXML=function(){var e="";e+='<key type="'+this.getType()+'" name="'+this.getName()+'">\n';for(var t=0;t<this.rows.length;t++){e+="<part>"+this.rows[t].getTitle()+"</part>\n"}return e+="</key>\n"},SQL.Key.prototype.fromXML=function(e){this.setType(e.getAttribute("type")),this.setName(e.getAttribute("name"));for(var t=e.getElementsByTagName("part"),n=0;n<t.length;n++){var i=t[n].firstChild.nodeValue,o=this.owner.findNamedRow(i);this.addRow(o)}},SQL.Rubberband=function(e){this.owner=e,SQL.Visual.apply(this),this.dom.container=OZ.$("rubberband"),OZ.Event.add("area","mousedown",this.down.bind(this))},SQL.Rubberband.prototype=Object.create(SQL.Visual.prototype),SQL.Rubberband.prototype.down=function(e){OZ.Event.prevent(e);var t=OZ.DOM.scroll();this.x=this.x0=e.clientX+t[0],this.y=this.y0=e.clientY+t[1],this.width=0,this.height=0,this.redraw(),this.documentMove=OZ.Event.add(document,"mousemove",this.move.bind(this)),this.documentUp=OZ.Event.add(document,"mouseup",this.up.bind(this))},SQL.Rubberband.prototype.move=function(e){var t=OZ.DOM.scroll(),n=e.clientX+t[0],i=e.clientY+t[1];this.width=Math.abs(n-this.x0),this.height=Math.abs(i-this.y0),n<this.x0?this.x=n:this.x=this.x0,i<this.y0?this.y=i:this.y=this.y0,this.redraw(),this.dom.container.style.visibility="visible"},SQL.Rubberband.prototype.up=function(e){OZ.Event.prevent(e),this.dom.container.style.visibility="hidden",OZ.Event.remove(this.documentMove),OZ.Event.remove(this.documentUp),this.owner.tableManager.selectRect(this.x,this.y,this.width,this.height)},SQL.Rubberband.prototype.redraw=function(){this.dom.container.style.left=this.x+"px",this.dom.container.style.top=this.y+"px",this.dom.container.style.width=this.width+"px",this.dom.container.style.height=this.height+"px"},SQL.Map=function(e){this.owner=e,SQL.Visual.apply(this),this.dom.container=OZ.$("minimap"),this.width=this.dom.container.offsetWidth-2,this.height=this.dom.container.offsetHeight-2,this.dom.port=OZ.DOM.elm("div",{className:"port",zIndex:1}),this.dom.container.appendChild(this.dom.port),this.sync=this.sync.bind(this),this.flag=!1,this.sync(),OZ.Event.add(window,"resize",this.sync),OZ.Event.add(window,"scroll",this.sync),OZ.Event.add(this.dom.container,"mousedown",this.down.bind(this)),OZ.Event.add(this.dom.container,"touchstart",this.down.bind(this)),OZ.Event.add(this.dom.container,"touchmove",OZ.Event.prevent)},SQL.Map.prototype=Object.create(SQL.Visual.prototype),SQL.Map.prototype.down=function(e){this.flag=!0,this.dom.container.style.cursor="move";var t=OZ.DOM.pos(this.dom.container);if(this.x=Math.round(t[0]+this.l+this.w/2),this.y=Math.round(t[1]+this.t+this.h/2),this.move(e),"touchstart"==e.type)var n="touchmove",i="touchend";else n="mousemove",i="mouseup";this.documentMove=OZ.Event.add(document,n,this.move.bind(this)),this.documentUp=OZ.Event.add(document,i,this.up.bind(this))},SQL.Map.prototype.move=function(e){if(this.flag){if(OZ.Event.prevent(e),e.type.match(/touch/)){if(e.touches.length>1)return;var t=e.touches[0]}else t=e;var n=t.clientX-this.x,i=t.clientY-this.y;this.l+n<0&&(n=-this.l),this.t+i<0&&(i=-this.t),this.l+this.w+4+n>this.width&&(n=this.width-4-this.l-this.w),this.t+this.h+4+i>this.height&&(i=this.height-4-this.t-this.h),this.x+=n,this.y+=i,this.l+=n,this.t+=i;var o=this.width/this.owner.width,r=this.height/this.owner.height,s=this.l/o,a=this.t/r;OZ.webkit?(document.body.scrollLeft=Math.round(s),document.body.scrollTop=Math.round(a)):(document.documentElement.scrollLeft=Math.round(s),document.documentElement.scrollTop=Math.round(a)),this.redraw()}},SQL.Map.prototype.up=function(){this.flag=!1,this.dom.container.style.cursor="",OZ.Event.remove(this.documentMove),OZ.Event.remove(this.documentUp)},SQL.Map.prototype.sync=function(){var e=OZ.DOM.win(),t=OZ.DOM.scroll(),n=this.width/this.owner.width,i=this.height/this.owner.height,o=e[0]*n-4-0,r=e[1]*i-4-0,s=t[0]*n,a=t[1]*i;this.w=Math.round(o),this.h=Math.round(r),this.l=Math.round(s),this.t=Math.round(a),this.redraw()},SQL.Map.prototype.redraw=function(){this.dom.port.style.width=this.w+"px",this.dom.port.style.height=this.h+"px",this.dom.port.style.left=this.l+"px",this.dom.port.style.top=this.t+"px"},SQL.Toggle=function(e){this._state=null,this._elm=e,OZ.Event.add(e,"click",this._click.bind(this));var t=!0;document.location.href.match(/toolbar=hidden/)&&(t=!1),this._switch(t)},SQL.Toggle.prototype._click=function(){this._switch(!this._state)},SQL.Toggle.prototype._switch=function(e){this._state=e,this._state?OZ.$("bar").style.height="":(OZ.$("bar").style.overflow="hidden",OZ.$("bar").style.height=this._elm.offsetHeight+"px"),this._elm.className=this._state?"on":"off"},SQL.IO=function(e){this.owner=e,this._name="",this.lastUsedName="",this.dom={container:OZ.$("io")};for(var t=["saveload","clientlocalsave","clientsave","clientlocalload","clientlocallist","clientload","clientsql","dropboxsave","dropboxload","dropboxlist","quicksave","serversave","serverload","serverlist","serverimport"],n=0;n<t.length;n++){var i=t[n],o=OZ.$(i);this.dom[i]=o,o.value=_(i)}this.dom.quicksave.value+=" (F2)";for(t=["client","server","output","backendlabel"],n=0;n<t.length;n++){i=t[n];(o=OZ.$(i)).innerHTML=_(i)}this.dom.ta=OZ.$("textarea"),this.dom.backend=OZ.$("backend"),this.dropBoxInit(),this.dom.container.parentNode.removeChild(this.dom.container),this.dom.container.style.visibility="",this.saveresponse=this.saveresponse.bind(this),this.loadresponse=this.loadresponse.bind(this),this.listresponse=this.listresponse.bind(this),this.importresponse=this.importresponse.bind(this),OZ.Event.add(this.dom.saveload,"click",this.click.bind(this)),OZ.Event.add(this.dom.clientlocalsave,"click",this.clientlocalsave.bind(this)),OZ.Event.add(this.dom.clientsave,"click",this.clientsave.bind(this)),OZ.Event.add(this.dom.clientlocalload,"click",this.clientlocalload.bind(this)),OZ.Event.add(this.dom.clientlocallist,"click",this.clientlocallist.bind(this)),OZ.Event.add(this.dom.clientload,"click",this.clientload.bind(this)),OZ.Event.add(this.dom.dropboxload,"click",this.dropboxload.bind(this)),OZ.Event.add(this.dom.dropboxsave,"click",this.dropboxsave.bind(this)),OZ.Event.add(this.dom.dropboxlist,"click",this.dropboxlist.bind(this)),OZ.Event.add(this.dom.clientsql,"click",this.clientsql.bind(this)),OZ.Event.add(this.dom.quicksave,"click",this.quicksave.bind(this)),OZ.Event.add(this.dom.serversave,"click",this.serversave.bind(this)),OZ.Event.add(this.dom.serverload,"click",this.serverload.bind(this)),OZ.Event.add(this.dom.serverlist,"click",this.serverlist.bind(this)),OZ.Event.add(this.dom.serverimport,"click",this.serverimport.bind(this)),OZ.Event.add(document,"keydown",this.press.bind(this)),this.build()},SQL.IO.prototype.build=function(){OZ.DOM.clear(this.dom.backend);var e=CONFIG.AVAILABLE_BACKENDS,t=CONFIG.DEFAULT_BACKEND,n=window.location.search.substring(1).match(/backend=([^&]*)/);n&&(req=n[1],-1!=e.indexOf(req)&&(t=req));for(var i=0;i<e.length;i++){var o=OZ.DOM.elm("option");o.value=e[i],o.innerHTML=e[i],this.dom.backend.appendChild(o),e[i]==t&&(this.dom.backend.selectedIndex=i)}},SQL.IO.prototype.click=function(){this.build(),this.dom.ta.value="",this.dom.clientsql.value=_("clientsql")+" ("+window.DATATYPES.getAttribute("db")+")",this.owner.window.open(_("saveload"),this.dom.container)},SQL.IO.prototype.fromXMLText=function(t){try{if(window.DOMParser)var n=(new DOMParser).parseFromString(t,"text/xml");else{if(!(window.ActiveXObject||"ActiveXObject"in window))throw new Error("No XML parser available.");(n=new ActiveXObject("Microsoft.XMLDOM")).loadXML(t)}}catch(e){return void alert(_("xmlerror")+": "+e.message)}this.fromXML(n)},SQL.IO.prototype.fromXML=function(e){return e&&e.documentElement?(this.owner.fromXML(e.documentElement),this.owner.window.close(),!0):(alert(_("xmlerror")+": Null document"),!1)},SQL.IO.prototype.clientsave=function(){var e=this.owner.toXML();this.dom.ta.value=e},SQL.IO.prototype.clientload=function(){var e=this.dom.ta.value;e?this.fromXMLText(e):alert(_("empty"))},SQL.IO.prototype.promptName=function(e,t){var n=this.owner.getOption("lastUsedName")||this.lastUsedName,i=prompt(_(e),n);return i?(t&&i.endsWith(t)&&(i=i.substr(0,i.length-4)),this.owner.setOption("lastUsedName",i),this.lastUsedName=i,i):null},SQL.IO.prototype.clientlocalsave=function(){if(window.localStorage){var t=this.owner.toXML();if(t.length>=2621440)alert("Warning: your database structure is above 5 megabytes in size, this is above the localStorage single key limit allowed by some browsers, example Mozilla Firefox 10");else{var n=this.promptName("serversaveprompt");if(n){n="wwwsqldesigner_databases_"+(n||"default");try{if(localStorage.setItem(n,t),localStorage.getItem(n)!=t)throw new Error("Content verification failed")}catch(e){alert("Error saving database structure to localStorage! ("+e.message+")")}}}}else alert("Sorry, your browser does not seem to support localStorage.")},SQL.IO.prototype.clientlocalload=function(){if(window.localStorage){var t=this.promptName("serverloadprompt");if(t){t="wwwsqldesigner_databases_"+(t||"default");try{var n=localStorage.getItem(t);if(!n)throw new Error("No data available")}catch(e){return void alert("Error loading database structure from localStorage! ("+e.message+")")}this.fromXMLText(n)}}else alert("Sorry, your browser does not seem to support localStorage.")},SQL.IO.prototype.clientlocallist=function(){if(window.localStorage){var t="wwwsqldesigner_databases_",n=localStorage.length,i="",o=!1,r=200;try{for(var s=0;s<n;++s){var a=localStorage.key(s);if(new RegExp(t).test(a))o=!0,i+=a.substring(t.length)+"\n"}if(!o)throw new Error("No data available")}catch(e){return void alert("Error loading database names from localStorage! ("+e.message+")")}this.listresponse(i,r)}else alert("Sorry, your browser does not seem to support localStorage.")},SQL.IO.prototype.dropBoxInit=function(){if(CONFIG.DROPBOX_KEY)this.dropboxClient=new Dropbox.Client({key:CONFIG.DROPBOX_KEY});else{this.dropboxClient=null;var e=document.querySelectorAll("[id^=dropbox]");[].slice.call(e).forEach(function(e){e.style.display="none"})}},SQL.IO.prototype.showDropboxError=function(e){var t=_("Dropbox error")+": ",n=e.status;switch(e.status){case Dropbox.ApiError.INVALID_TOKEN:n=_("Token expired - retry the operation, authenticating again with Dropbox"),this.dropboxClient.reset();break;case Dropbox.ApiError.NOT_FOUND:n=_("File not found");break;case Dropbox.ApiError.OVER_QUOTA:n=_("Dropbox is full");break;case Dropbox.ApiError.RATE_LIMITED:break;case Dropbox.ApiError.NETWORK_ERROR:n=_("Network error");break;case Dropbox.ApiError.INVALID_PARAM:case Dropbox.ApiError.OAUTH_ERROR:case Dropbox.ApiError.INVALID_METHOD:}alert(t+n)},SQL.IO.prototype.showDropboxAuthenticate=function(e){if(!this.dropboxClient)return!1;var t=window.location.href,n=t.substring(0,t.lastIndexOf("/"))+"/";this.dropboxClient.authDriver(new Dropbox.AuthDriver.Popup({receiverUrl:n+"dropbox-oauth-receiver.html"}));var i=this;return i.dropboxClient.authenticate(function(t){t?i.showDropboxError(t):e()}),!0},SQL.IO.prototype.dropboxsave=function(){var e=this;e.showDropboxAuthenticate(function(){var t=e.promptName("serversaveprompt",".xml");if(t){var n=(t||"default")+".xml";e.listresponse("Saving...",200);var i=e.owner.toXML();e.dropboxClient.writeFile(n,i,function(t){if(t)return e.listresponse("",200),e.showDropboxError(t);e.listresponse(n+" "+_("was saved to Dropbox"),200)})}})},SQL.IO.prototype.dropboxload=function(){var e=this;e.showDropboxAuthenticate(function(){var t=e.promptName("serverloadprompt",".xml");if(t){var n=(t||"default")+".xml";e.listresponse("Loading...",200),e.dropboxClient.readFile(n,function(t,n){if(e.listresponse("",200),t)return e.showDropboxError(t);e.fromXMLText(n)})}})},SQL.IO.prototype.dropboxlist=function(){var e=this;e.showDropboxAuthenticate(function(){e.listresponse("Loading...",200),e.dropboxClient.readdir("/",function(t,n){if(t)return e.listresponse("",200),e.showDropboxError(t);var i=n.join("\n")+"\n";e.listresponse(i,200)})})},SQL.IO.prototype.clientsql=function(){var e=this.owner.getOption("staticpath")+"db/"+window.DATATYPES.getAttribute("db")+"/output.xsl";this.owner.window.showThrobber(),OZ.Request(e,this.finish.bind(this),{xml:!0})},SQL.IO.prototype.finish=function(t){this.owner.window.hideThrobber();var n=this.owner.toXML(),i="";try{if(window.XSLTProcessor&&window.DOMParser){var o=(new DOMParser).parseFromString(n,"text/xml"),r=new XSLTProcessor;r.importStylesheet(t),i=r.transformToDocument(o).documentElement.textContent}else{if(!(window.ActiveXObject||"ActiveXObject"in window))throw new Error("No XSLT processor available");(o=new ActiveXObject("Microsoft.XMLDOM")).loadXML(n),i=o.transformNode(t)}}catch(e){return void alert(_("xmlerror")+": "+e.message)}this.dom.ta.value=i.trim()},SQL.IO.prototype.serversave=function(){var e=this.owner.toXML();url=this.owner.saveUrl;var t={"Content-type":"application/xml"};this.owner.window.showThrobber(),this.owner.setTitle(name),OZ.Request(url,this.saveresponse,{xml:!0,method:"post",data:e,headers:t})},SQL.IO.prototype.quicksave=function(e){this.serversave(e,this._name)},SQL.IO.prototype.serverload=function(e,t){var n=t||prompt(_("serverloadprompt"),this._name);if(n){this._name=n;var i=this.owner.getOption("xhrpath")+"backend/"+this.dom.backend.value+"/?action=load&keyword="+encodeURIComponent(n);this.owner.window.showThrobber(),this.name=n,OZ.Request(i,this.loadresponse,{xml:!0})}},SQL.IO.prototype.serverlist=function(){var e=this.owner.getOption("xhrpath")+"backend/"+this.dom.backend.value+"/?action=list";this.owner.window.showThrobber(),OZ.Request(e,this.listresponse)},SQL.IO.prototype.serverimport=function(){var e=prompt(_("serverimportprompt"),"");if(e){var t=this.owner.getOption("xhrpath")+"backend/"+this.dom.backend.value+"/?action=import&database="+e;this.owner.window.showThrobber(),OZ.Request(t,this.importresponse,{xml:!0})}},SQL.IO.prototype.check=function(e){switch(e){case 201:case 404:case 500:case 501:case 503:var t="http"+e;return this.dom.ta.value=_("httpresponse")+": "+_(t),!1;default:return!0}},SQL.IO.prototype.saveresponse=function(e,t){this.owner.window.hideThrobber(),this.check(t)},SQL.IO.prototype.loadresponse=function(e,t){this.owner.window.hideThrobber(),this.check(t)&&(this.fromXML(e),this.owner.setTitle(this.name))},SQL.IO.prototype.listresponse=function(e,t){this.owner.window.hideThrobber(),this.check(t)&&(this.dom.ta.value=e)},SQL.IO.prototype.importresponse=function(e,t){this.owner.window.hideThrobber(),this.check(t)&&this.fromXML(e)&&this.owner.alignTables()},SQL.IO.prototype.press=function(e){switch(e.keyCode){case 113:OZ.opera&&e.preventDefault(),this.quicksave(e)}},SQL.TableManager=function(e){this.owner=e,this.dom={container:OZ.$("table"),name:OZ.$("tablename"),comment:OZ.$("tablecomment")},this.selection=[],this.adding=!1;for(var t=["addtable","removetable","aligntables","cleartables","addrow","edittable","tablekeys"],n=0;n<t.length;n++){var i=t[n],o=OZ.$(i);this.dom[i]=o,o.value=_(i)}for(t=["tablenamelabel","tablecommentlabel"],n=0;n<t.length;n++){i=t[n];(o=OZ.$(i)).innerHTML=_(i)}this.select(!1),this.save=this.save.bind(this),OZ.Event.add("area","click",this.click.bind(this)),OZ.Event.add(this.dom.addtable,"click",this.preAdd.bind(this)),OZ.Event.add(this.dom.removetable,"click",this.remove.bind(this)),OZ.Event.add(this.dom.cleartables,"click",this.clear.bind(this)),OZ.Event.add(this.dom.addrow,"click",this.addRow.bind(this)),OZ.Event.add(this.dom.aligntables,"click",this.owner.alignTables.bind(this.owner)),OZ.Event.add(this.dom.edittable,"click",this.edit.bind(this)),OZ.Event.add(this.dom.tablekeys,"click",this.keys.bind(this)),OZ.Event.add(document,"keydown",this.press.bind(this)),this.dom.container.parentNode.removeChild(this.dom.container)},SQL.TableManager.prototype.addRow=function(){var e=this.selection[0].addRow(_("newrow"));this.owner.rowManager.select(e),e.expand()},SQL.TableManager.prototype.select=function(e,t){if(e)if(t){var n=this.selection.indexOf(e);n<0?this.selection.push(e):this.selection.splice(n,1)}else{if(this.selection[0]===e)return;this.selection=[e]}else this.selection=[];this.processSelection()},SQL.TableManager.prototype.processSelection=function(){for(var e=this.owner.tables,t=0;t<e.length;t++)e[t].deselect();1==this.selection.length?(this.dom.addrow.disabled=!1,this.dom.edittable.disabled=!1,this.dom.tablekeys.disabled=!1,this.dom.removetable.value=_("removetable")):(this.dom.addrow.disabled=!0,this.dom.edittable.disabled=!0,this.dom.tablekeys.disabled=!0),this.selection.length?(this.dom.removetable.disabled=!1,this.selection.length>1&&(this.dom.removetable.value=_("removetables"))):(this.dom.removetable.disabled=!0,this.dom.removetable.value=_("removetable"));for(t=0;t<this.selection.length;t++){var n=this.selection[t];n.owner.raise(n),n.select()}},SQL.TableManager.prototype.selectRect=function(e,t,n,i){this.selection=[];for(var o=this.owner.tables,r=e+n,s=t+i,a=0;a<o.length;a++){var l=o[a],d=l.x,c=l.x+l.width,h=l.y,u=l.y+l.height;(d>=e&&d<r||c>=e&&c<r||d<e&&c>r)&&(h>=t&&h<s||u>=t&&u<s||h<t&&u>s)&&this.selection.push(l)}this.processSelection()},SQL.TableManager.prototype.click=function(e){var t=!1;if(this.adding){this.adding=!1,OZ.DOM.removeClass("area","adding"),this.dom.addtable.value=this.oldvalue;var n=OZ.DOM.scroll(),i=e.clientX+n[0],o=e.clientY+n[1],r=(t=this.owner.addTable(_("newtable"),i,o)).addRow("id",{ai:!0});t.addKey("PRIMARY","").addRow(r)}this.select(t),this.owner.rowManager.select(!1),1==this.selection.length&&this.edit(e)},SQL.TableManager.prototype.preAdd=function(){this.adding?(this.adding=!1,OZ.DOM.removeClass("area","adding"),this.dom.addtable.value=this.oldvalue):(this.adding=!0,OZ.DOM.addClass("area","adding"),this.oldvalue=this.dom.addtable.value,this.dom.addtable.value="["+_("addpending")+"]")},SQL.TableManager.prototype.clear=function(){this.owner.tables.length&&(confirm(_("confirmall")+" ?")&&this.owner.clearTables())},SQL.TableManager.prototype.remove=function(){for(var e=this.selection.slice(0),t=0;t<e.length;t++)e[t]="'"+e[t].getTitle()+"'";if(confirm(_("confirmtable")+" "+e.join(", ")+"?")){var n=this.selection.slice(0);for(t=0;t<n.length;t++)this.owner.removeTable(n[t])}},SQL.TableManager.prototype.edit=function(){this.owner.window.open(_("edittable"),this.dom.container,this.save);var t=this.selection[0].getTitle();this.dom.name.value=t;try{this.dom.comment.value=this.selection[0].getComment()}catch(e){}if(this.dom.name.focus(),OZ.ie)try{this.dom.name.select()}catch(e){}else this.dom.name.setSelectionRange(0,t.length)},SQL.TableManager.prototype.keys=function(){this.owner.keyManager.open(this.selection[0])},SQL.TableManager.prototype.save=function(){this.selection[0].setTitle(this.dom.name.value),this.selection[0].setComment(this.dom.comment.value)},SQL.TableManager.prototype.press=function(e){var t=OZ.Event.target(e).nodeName.toLowerCase();if("textarea"!=t&&"input"!=t&&!this.owner.rowManager.selected&&this.selection.length)switch(e.keyCode){case 46:this.remove(),OZ.Event.prevent(e)}},SQL.RowManager=function(e){this.owner=e,this.dom={},this.selected=null,this.creating=!1,this.connecting=!1;for(var t=["editrow","removerow","uprow","downrow","foreigncreate","foreignconnect","foreigndisconnect"],n=0;n<t.length;n++){var i=t[n],o=OZ.$(i);this.dom[i]=o,o.value=_(i)}this.select(!1),OZ.Event.add(this.dom.editrow,"click",this.edit.bind(this)),OZ.Event.add(this.dom.uprow,"click",this.up.bind(this)),OZ.Event.add(this.dom.downrow,"click",this.down.bind(this)),OZ.Event.add(this.dom.removerow,"click",this.remove.bind(this)),OZ.Event.add(this.dom.foreigncreate,"click",this.foreigncreate.bind(this)),OZ.Event.add(this.dom.foreignconnect,"click",this.foreignconnect.bind(this)),OZ.Event.add(this.dom.foreigndisconnect,"click",this.foreigndisconnect.bind(this)),OZ.Event.add(document,"keydown",this.press.bind(this)),SQL.subscribe("tableclick",this.tableClick.bind(this)),SQL.subscribe("rowclick",this.rowClick.bind(this))},SQL.RowManager.prototype.select=function(e){this.selected!==e&&(this.selected&&this.selected.deselect(),this.selected=e,this.selected&&this.selected.select(),this.redraw())},SQL.RowManager.prototype.tableClick=function(e){if(this.creating){var t=this.selected,n=e.target,i=this.owner.getOption("pattern");i=(i=(i=i.replace(/%T/g,t.owner.getTitle())).replace(/%t/g,n.getTitle())).replace(/%R/g,t.getTitle());var o=n.addRow(i,t.data);o.update({type:SQL.Designer.getFKTypeFor(t.data.type)}),o.update({ai:!1}),this.owner.addRelation(t,o)}},SQL.RowManager.prototype.rowClick=function(e){if(this.connecting){var t=this.selected,n=e.target;t!=n&&this.owner.addRelation(t,n)}},SQL.RowManager.prototype.foreigncreate=function(){this.endConnect(),this.creating?this.endCreate():(this.creating=!0,this.dom.foreigncreate.value="["+_("foreignpending")+"]")},SQL.RowManager.prototype.foreignconnect=function(){this.endCreate(),this.connecting?this.endConnect():(this.connecting=!0,this.dom.foreignconnect.value="["+_("foreignconnectpending")+"]")},SQL.RowManager.prototype.foreigndisconnect=function(){for(var e=this.selected.relations,t=e.length-1;t>=0;t--){var n=e[t];n.row2==this.selected&&this.owner.removeRelation(n)}this.redraw()},SQL.RowManager.prototype.endCreate=function(){this.creating=!1,this.dom.foreigncreate.value=_("foreigncreate")},SQL.RowManager.prototype.endConnect=function(){this.connecting=!1,this.dom.foreignconnect.value=_("foreignconnect")},SQL.RowManager.prototype.up=function(){this.selected.up(),this.redraw()},SQL.RowManager.prototype.down=function(){this.selected.down(),this.redraw()},SQL.RowManager.prototype.remove=function(){if(confirm(_("confirmrow")+" '"+this.selected.getTitle()+"' ?")){var e=this.selected.owner;this.selected.owner.removeRow(this.selected);var t=!1;e.rows&&(t=e.rows[e.rows.length-1]),this.select(t)}},SQL.RowManager.prototype.redraw=function(){if(this.endCreate(),this.endConnect(),this.selected){var e=this.selected.owner.rows
;this.dom.uprow.disabled=e[0]==this.selected,this.dom.downrow.disabled=e[e.length-1]==this.selected,this.dom.removerow.disabled=!1,this.dom.editrow.disabled=!1,this.dom.foreigncreate.disabled=!this.selected.isUnique(),this.dom.foreignconnect.disabled=!this.selected.isUnique(),this.dom.foreigndisconnect.disabled=!0;for(var t=this.selected.relations,n=0;n<t.length;n++){t[n].row2==this.selected&&(this.dom.foreigndisconnect.disabled=!1)}}else this.dom.uprow.disabled=!0,this.dom.downrow.disabled=!0,this.dom.removerow.disabled=!0,this.dom.editrow.disabled=!0,this.dom.foreigncreate.disabled=!0,this.dom.foreignconnect.disabled=!0,this.dom.foreigndisconnect.disabled=!0},SQL.RowManager.prototype.press=function(e){if(this.selected){var t=OZ.Event.target(e).nodeName.toLowerCase();if("textarea"!=t&&"input"!=t)switch(e.keyCode){case 38:this.up(),OZ.Event.prevent(e);break;case 40:this.down(),OZ.Event.prevent(e);break;case 46:this.remove(),OZ.Event.prevent(e);break;case 13:case 27:this.selected.collapse()}}},SQL.RowManager.prototype.edit=function(){this.selected.expand()},SQL.KeyManager=function(e){this.owner=e,this.dom={container:OZ.$("keys")},this.build()},SQL.KeyManager.prototype.build=function(){this.dom.list=OZ.$("keyslist"),this.dom.type=OZ.$("keytype"),this.dom.name=OZ.$("keyname"),this.dom.left=OZ.$("keyleft"),this.dom.right=OZ.$("keyright"),this.dom.fields=OZ.$("keyfields"),this.dom.avail=OZ.$("keyavail"),this.dom.listlabel=OZ.$("keyslistlabel");for(var e=["keyadd","keyremove"],t=0;t<e.length;t++){var n=e[t],i=OZ.$(n);this.dom[n]=i,i.value=_(n)}for(e=["keyedit","keytypelabel","keynamelabel","keyfieldslabel","keyavaillabel"],t=0;t<e.length;t++){n=e[t];(i=OZ.$(n)).innerHTML=_(n)}var o=["PRIMARY","INDEX","UNIQUE","FULLTEXT"];OZ.DOM.clear(this.dom.type);for(t=0;t<o.length;t++){var r=OZ.DOM.elm("option");r.innerHTML=o[t],r.value=o[t],this.dom.type.appendChild(r)}this.purge=this.purge.bind(this),OZ.Event.add(this.dom.list,"change",this.listchange.bind(this)),OZ.Event.add(this.dom.type,"change",this.typechange.bind(this)),OZ.Event.add(this.dom.name,"keyup",this.namechange.bind(this)),OZ.Event.add(this.dom.keyadd,"click",this.add.bind(this)),OZ.Event.add(this.dom.keyremove,"click",this.remove.bind(this)),OZ.Event.add(this.dom.left,"click",this.left.bind(this)),OZ.Event.add(this.dom.right,"click",this.right.bind(this)),this.dom.container.parentNode.removeChild(this.dom.container)},SQL.KeyManager.prototype.listchange=function(){this.switchTo(this.dom.list.selectedIndex)},SQL.KeyManager.prototype.typechange=function(){this.key.setType(this.dom.type.value),this.redrawListItem()},SQL.KeyManager.prototype.namechange=function(){this.key.setName(this.dom.name.value),this.redrawListItem()},SQL.KeyManager.prototype.add=function(){var e=this.table.keys.length?"INDEX":"PRIMARY";this.table.addKey(e),this.sync(this.table),this.switchTo(this.table.keys.length-1)},SQL.KeyManager.prototype.remove=function(){var e=this.dom.list.selectedIndex;if(-1!=e){var t=this.table.keys[e];this.table.removeKey(t),this.sync(this.table)}},SQL.KeyManager.prototype.purge=function(){for(var e=this.table.keys.length-1;e>=0;e--){var t=this.table.keys[e];t.rows.length||this.table.removeKey(t)}},SQL.KeyManager.prototype.sync=function(e){this.table=e,this.dom.listlabel.innerHTML=_("keyslistlabel").replace(/%s/,e.getTitle()),OZ.DOM.clear(this.dom.list);for(var t=0;t<e.keys.length;t++){var n=e.keys[t],i=OZ.DOM.elm("option");this.dom.list.appendChild(i);var o=t+1+": "+n.getLabel();i.innerHTML=o}e.keys.length?this.switchTo(0):this.disable()},SQL.KeyManager.prototype.redrawListItem=function(){var e=this.table.keys.indexOf(this.key);this.option.innerHTML=e+1+": "+this.key.getLabel()},SQL.KeyManager.prototype.switchTo=function(e){this.enable();var t=this.table.keys[e];this.key=t,this.option=this.dom.list.getElementsByTagName("option")[e],this.dom.list.selectedIndex=e,this.dom.name.value=t.getName();for(var n=this.dom.type.getElementsByTagName("option"),i=0;i<n.length;i++)n[i].value==t.getType()&&(this.dom.type.selectedIndex=i);OZ.DOM.clear(this.dom.fields);for(i=0;i<t.rows.length;i++){(o=OZ.DOM.elm("option")).innerHTML=t.rows[i].getTitle(),o.value=o.innerHTML,this.dom.fields.appendChild(o)}OZ.DOM.clear(this.dom.avail);for(i=0;i<this.table.rows.length;i++){var o,r=this.table.rows[i];if(-1==t.rows.indexOf(r))(o=OZ.DOM.elm("option")).innerHTML=r.getTitle(),o.value=o.innerHTML,this.dom.avail.appendChild(o)}},SQL.KeyManager.prototype.disable=function(){OZ.DOM.clear(this.dom.fields),OZ.DOM.clear(this.dom.avail),this.dom.keyremove.disabled=!0,this.dom.left.disabled=!0,this.dom.right.disabled=!0,this.dom.list.disabled=!0,this.dom.name.disabled=!0,this.dom.type.disabled=!0,this.dom.fields.disabled=!0,this.dom.avail.disabled=!0},SQL.KeyManager.prototype.enable=function(){this.dom.keyremove.disabled=!1,this.dom.left.disabled=!1,this.dom.right.disabled=!1,this.dom.list.disabled=!1,this.dom.name.disabled=!1,this.dom.type.disabled=!1,this.dom.fields.disabled=!1,this.dom.avail.disabled=!1},SQL.KeyManager.prototype.left=function(){for(var e=this.dom.avail.getElementsByTagName("option"),t=0;t<e.length;t++){var n=e[t];if(n.selected){var i=this.table.findNamedRow(n.value);this.key.addRow(i)}}this.switchTo(this.dom.list.selectedIndex)},SQL.KeyManager.prototype.right=function(){for(var e=this.dom.fields.getElementsByTagName("option"),t=0;t<e.length;t++){var n=e[t];if(n.selected){var i=this.table.findNamedRow(n.value);this.key.removeRow(i)}}this.switchTo(this.dom.list.selectedIndex)},SQL.KeyManager.prototype.open=function(e){this.sync(e),this.owner.window.open(_("tablekeys"),this.dom.container,this.purge)},SQL.Window=function(e){this.owner=e,this.dom={container:OZ.$("window"),background:OZ.$("background"),ok:OZ.$("windowok"),cancel:OZ.$("windowcancel"),title:OZ.$("windowtitle"),content:OZ.$("windowcontent"),throbber:OZ.$("throbber")},this.dom.ok.value=_("windowok"),this.dom.cancel.value=_("windowcancel"),this.dom.throbber.alt=this.dom.throbber.title=_("throbber"),OZ.Event.add(this.dom.ok,"click",this.ok.bind(this)),OZ.Event.add(this.dom.cancel,"click",this.close.bind(this)),OZ.Event.add(document,"keydown",this.key.bind(this)),this.sync=this.sync.bind(this),OZ.Event.add(window,"scroll",this.sync),OZ.Event.add(window,"resize",this.sync),this.state=0,this.hideThrobber(),this.sync()},SQL.Window.prototype.showThrobber=function(){this.dom.throbber.style.visibility=""},SQL.Window.prototype.hideThrobber=function(){this.dom.throbber.style.visibility="hidden"},SQL.Window.prototype.open=function(e,t,n){for(this.state=1,this.callback=n;this.dom.title.childNodes.length>1;)this.dom.title.removeChild(this.dom.title.childNodes[1]);var i=OZ.DOM.text(e);this.dom.title.appendChild(i),this.dom.background.style.visibility="visible",OZ.DOM.clear(this.dom.content),this.dom.content.appendChild(t);var o=OZ.DOM.win(),r=OZ.DOM.scroll();this.dom.container.style.left=Math.round(r[0]+(o[0]-this.dom.container.offsetWidth)/2)+"px",this.dom.container.style.top=Math.round(r[1]+(o[1]-this.dom.container.offsetHeight)/2)+"px",this.dom.cancel.style.visibility=this.callback?"":"hidden",this.dom.container.style.visibility="visible";for(var s=["input","select","textarea"],a=this.dom.container.getElementsByTagName("*"),l=0;l<a.length;l++)if(-1!=s.indexOf(a[l].tagName.toLowerCase())){a[l].focus();break}},SQL.Window.prototype.key=function(e){this.state&&(13==e.keyCode&&this.ok(e),27==e.keyCode&&this.close())},SQL.Window.prototype.ok=function(){this.callback&&this.callback(),this.close()},SQL.Window.prototype.close=function(){this.state&&(this.state=0,this.dom.background.style.visibility="hidden",this.dom.container.style.visibility="hidden")},SQL.Window.prototype.sync=function(){var e=OZ.DOM.win(),t=OZ.DOM.scroll();this.dom.background.style.width=e[0]+"px",this.dom.background.style.height=e[1]+"px",this.dom.background.style.left=t[0]+"px",this.dom.background.style.top=t[1]+"px"},SQL.Options=function(e){this.owner=e,this.dom={container:OZ.$("opts"),btn:OZ.$("options")},this.dom.btn.value=_("options"),this.save=this.save.bind(this),this.build()},SQL.Options.prototype.build=function(){this.dom.optionlocale=OZ.$("optionlocale"),this.dom.optiondb=OZ.$("optiondb"),this.dom.optionsnap=OZ.$("optionsnap"),this.dom.optionpattern=OZ.$("optionpattern"),this.dom.optionhide=OZ.$("optionhide"),this.dom.optionvector=OZ.$("optionvector"),this.dom.optionshowsize=OZ.$("optionshowsize"),this.dom.optionshowtype=OZ.$("optionshowtype");for(var e=["language","db","snap","pattern","hide","vector","showsize","showtype","optionsnapnotice","optionpatternnotice","optionsnotice"],t=0;t<e.length;t++){var n=e[t];OZ.$(n).innerHTML=_(n)}var i=CONFIG.AVAILABLE_LOCALES;OZ.DOM.clear(this.dom.optionlocale);for(t=0;t<i.length;t++){(r=OZ.DOM.elm("option")).value=i[t],r.innerHTML=i[t],this.dom.optionlocale.appendChild(r),this.owner.getOption("locale")==i[t]&&(this.dom.optionlocale.selectedIndex=t)}var o=CONFIG.AVAILABLE_DBS;OZ.DOM.clear(this.dom.optiondb);for(t=0;t<o.length;t++){var r;(r=OZ.DOM.elm("option")).value=o[t],r.innerHTML=o[t],this.dom.optiondb.appendChild(r),this.owner.getOption("db")==o[t]&&(this.dom.optiondb.selectedIndex=t)}OZ.Event.add(this.dom.btn,"click",this.click.bind(this)),this.dom.container.parentNode.removeChild(this.dom.container)},SQL.Options.prototype.save=function(){this.owner.setOption("locale",this.dom.optionlocale.value),this.owner.setOption("db",this.dom.optiondb.value),this.owner.setOption("snap",this.dom.optionsnap.value),this.owner.setOption("pattern",this.dom.optionpattern.value),this.owner.setOption("hide",this.dom.optionhide.checked?"1":""),this.owner.setOption("vector",this.dom.optionvector.checked?"1":""),this.owner.setOption("showsize",this.dom.optionshowsize.checked?"1":""),this.owner.setOption("showtype",this.dom.optionshowtype.checked?"1":"")},SQL.Options.prototype.click=function(){this.owner.window.open(_("options"),this.dom.container,this.save),this.dom.optionsnap.value=this.owner.getOption("snap"),this.dom.optionpattern.value=this.owner.getOption("pattern"),this.dom.optionhide.checked=this.owner.getOption("hide"),this.dom.optionvector.checked=this.owner.getOption("vector"),this.dom.optionshowsize.checked=this.owner.getOption("showsize"),this.dom.optionshowtype.checked=this.owner.getOption("showtype")},SQL.Designer=function(){SQL.Designer=this,this.tables=[],this.relations=[],this.title=document.title,SQL.Visual.apply(this),new SQL.Toggle(OZ.$("toggle")),this.dom.container=OZ.$("area"),this.minSize=[this.dom.container.offsetWidth,this.dom.container.offsetHeight],this.width=this.minSize[0],this.height=this.minSize[1],this.typeIndex=!1,this.fkTypeFor=!1,this.vector=this.getOption("vector")&&document.createElementNS,this.vector&&(this.svgNS="http://www.w3.org/2000/svg",this.dom.svg=document.createElementNS(this.svgNS,"svg"),this.dom.container.appendChild(this.dom.svg)),this.flag=2},SQL.Designer.prototype=Object.create(SQL.Visual.prototype),SQL.Designer.prototype.sync=function(){for(var e=this.minSize[0],t=this.minSize[0],n=0;n<this.tables.length;n++){var i=this.tables[n];e=Math.max(e,i.x+i.width),t=Math.max(t,i.y+i.height)}this.width=e,this.height=t,this.map.sync(),this.vector&&(this.dom.svg.setAttribute("width",this.width),this.dom.svg.setAttribute("height",this.height))},SQL.Designer.prototype.requestLanguage=function(){var e=this.getOption("locale"),t=this.getOption("staticpath")+"locale/"+e+".xml";OZ.Request(t,this.languageResponse.bind(this),{method:"get",xml:!0})},SQL.Designer.prototype.languageResponse=function(e){if(e)for(var t=e.getElementsByTagName("string"),n=0;n<t.length;n++){var i=t[n].getAttribute("name"),o=t[n].firstChild.nodeValue;window.LOCALE[i]=o}this.flag--,this.flag||this.init2()},SQL.Designer.prototype.requestDB=function(){var e=this.getOption("db"),t=this.getOption("staticpath")+"db/"+e+"/datatypes.xml";OZ.Request(t,this.dbResponse.bind(this),{method:"get",xml:!0})},SQL.Designer.prototype.dbResponse=function(e){e&&(window.DATATYPES=e.documentElement),this.flag--,this.flag||this.init2()},SQL.Designer.prototype.init2=function(){this.map=new SQL.Map(this),this.rubberband=new SQL.Rubberband(this),this.tableManager=new SQL.TableManager(this),this.rowManager=new SQL.RowManager(this),this.keyManager=new SQL.KeyManager(this),this.io=new SQL.IO(this),this.options=new SQL.Options(this),this.window=new SQL.Window(this),this.sync(),OZ.$("docs").value=_("docs");var e=window.location.href.match(/keyword=([^&]+)/);if(e){var t=e[1];this.io.serverload(!1,t)}document.body.style.visibility="visible"},SQL.Designer.prototype.getMaxZ=function(){for(var e=0,t=0;t<this.tables.length;t++){var n=this.tables[t].getZ();n>e&&(e=n)}return OZ.$("controls").style.zIndex=e+5,e},SQL.Designer.prototype.addTable=function(e,t,n){var i=this.getMaxZ(),o=new SQL.Table(this,e,t,n,i+1);return this.tables.push(o),this.dom.container.appendChild(o.dom.container),o},SQL.Designer.prototype.removeTable=function(e){this.tableManager.select(!1),this.rowManager.select(!1);var t=this.tables.indexOf(e);-1!=t&&(e.destroy(),this.tables.splice(t,1))},SQL.Designer.prototype.addRelation=function(e,t){var n=new SQL.Relation(this,e,t);return this.relations.push(n),n},SQL.Designer.prototype.removeRelation=function(e){var t=this.relations.indexOf(e);-1!=t&&(e.destroy(),this.relations.splice(t,1))},SQL.Designer.prototype.getCookie=function(){for(var c=document.cookie,obj={},parts=c.split(";"),i=0;i<parts.length;i++){var part=parts[i],r=part.match(/wwwsqldesigner=({.*?})/);r&&(obj=eval("("+r[1]+")"))}return obj},SQL.Designer.prototype.setCookie=function(e){var t=[];for(var n in e)t.push(n+":'"+e[n]+"'");var i="{"+t.join(",")+"}";document.cookie="wwwsqldesigner="+i+"; path=/"},SQL.Designer.prototype.getOption=function(e){var t=this.getCookie();if(e in t)return t[e];switch(e){case"locale":return CONFIG.DEFAULT_LOCALE;case"db":return CONFIG.DEFAULT_DB;case"staticpath":return CONFIG.STATIC_PATH||"";case"xhrpath":return CONFIG.XHR_PATH||"";case"snap":case"showsize":case"showtype":return 0;case"pattern":return"%R_%T";case"hide":return!1;case"vector":return!0;default:return null}},SQL.Designer.prototype.setOption=function(e,t){var n=this.getCookie();n[e]=t,this.setCookie(n)},SQL.Designer.prototype.raise=function(e){var t=e.getZ(),n=this.getMaxZ();e.setZ(n);for(var i=0;i<this.tables.length;i++){var o=this.tables[i];o!=e&&(o.getZ()>t&&o.setZ(o.getZ()-1))}var r=e.dom.mini;r.parentNode.appendChild(r)},SQL.Designer.prototype.clearTables=function(){for(;this.tables.length;)this.removeTable(this.tables[0]);this.setTitle(!1)},SQL.Designer.prototype.alignTables=function(){var e=OZ.DOM.win()[0]-OZ.$("bar").offsetWidth,t=10,n=10,i=0;this.tables.sort(function(e,t){return t.getRelations().length-e.getRelations().length});for(var o=0;o<this.tables.length;o++){var r=this.tables[o],s=r.dom.container.offsetWidth,a=r.dom.container.offsetHeight;t+s>e&&(t=10,n+=10+i,i=0),r.moveTo(t,n),t+=10+s,a>i&&(i=a)}this.sync()},SQL.Designer.prototype.findNamedTable=function(e){for(var t=0;t<this.tables.length;t++)if(this.tables[t].getTitle()==e)return this.tables[t]},SQL.Designer.prototype.toXML=function(){var t='<?xml version="1.0" encoding="utf-8" ?>\n';(t+="<!-- SQL XML created by WWW SQL Designer, https://github.com/ondras/wwwsqldesigner/ -->\n",t+="<!-- Active URL: "+location.href+" -->\n",t+="<sql>\n",window.XMLSerializer)?t+=(new XMLSerializer).serializeToString(window.DATATYPES):window.DATATYPES.xml?t+=window.DATATYPES.xml:alert(_("errorxml")+": "+e.message);for(var n=0;n<this.tables.length;n++)t+=this.tables[n].toXML();return t+="</sql>\n"},SQL.Designer.prototype.fromXML=function(e){this.clearTables();var t=e.getElementsByTagName("datatypes");t.length&&(window.DATATYPES=t[0]);for(var n=e.getElementsByTagName("table"),i=0;i<n.length;i++){this.addTable("",0,0).fromXML(n[i])}for(i=0;i<this.tables.length;i++)this.tables[i].select(),this.tables[i].deselect();var o=e.getElementsByTagName("relation");for(i=0;i<o.length;i++){var r=o[i],s=r.getAttribute("table"),a=r.getAttribute("row"),l=this.findNamedTable(s);if(l){var d=l.findNamedRow(a);if(d){s=r.parentNode.parentNode.getAttribute("name"),a=r.parentNode.getAttribute("name");var c=this.findNamedTable(s);if(c){var h=c.findNamedRow(a);h&&this.addRelation(d,h)}}}}this.sync()},SQL.Designer.prototype.setTitle=function(e){document.title=this.title+(e?" - "+e:"")},SQL.Designer.prototype.removeSelection=function(){var e=window.getSelection?window.getSelection():document.selection;e&&(e.empty&&e.empty(),e.removeAllRanges&&e.removeAllRanges())},SQL.Designer.prototype.getTypeIndex=function(e){if(!this.typeIndex){this.typeIndex={};for(var t=window.DATATYPES.getElementsByTagName("type"),n=0;n<t.length;n++){var i=t[n].getAttribute("label");i&&(this.typeIndex[i]=n)}}return this.typeIndex[e]},SQL.Designer.prototype.getFKTypeFor=function(e){if(!this.fkTypeFor){this.fkTypeFor={};for(var t=window.DATATYPES.getElementsByTagName("type"),n=0;n<t.length;n++){this.fkTypeFor[n]=n;var i=t[n].getAttribute("fk");i&&(this.fkTypeFor[n]=this.getTypeIndex(i))}}return this.fkTypeFor[e]},SQL.Designer.prototype.setSaveUrl=function(e){this.saveUrl=e};